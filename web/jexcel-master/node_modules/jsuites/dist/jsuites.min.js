!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.jSuites=t()}(this,function(){"use strict";var jSuites=function(e){var t={init:function(){}};return t};return jSuites.ajax=function(e){if(e.data||(e.data={}),e.type&&(e.method=e.type),e.data){for(var t=function(e,n){var o=[],i=Object.keys(e);if(i.length)for(var a=0;a<i.length;a++){if(n)var r=n+"["+i[a]+"]";else r=i[a];if("object"==typeof e[i[a]])for(var s=t(e[i[a]],r),l=Object.keys(s),d=0;d<l.length;d++)o[l[d]]=s[l[d]];else o[r]=e[i[a]]}return o},n=[],o=t(e.data),i=Object.keys(o),a=0;a<i.length;a++)n.push(i[a]+"="+encodeURIComponent(o[i[a]]));"GET"==e.method&&n.length>0&&(e.url.indexOf("?")<0&&(e.url+="?"),e.url+=n.join("&"))}var r=new XMLHttpRequest;return r.open(e.method,e.url,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==e.method?(r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded")):"json"==e.dataType&&r.setRequestHeader("Content-Type","text/json"),1!=e.cache&&(r.setRequestHeader("pragma","no-cache"),r.setRequestHeader("cache-control","no-cache")),1==e.withCredentials&&(r.withCredentials=!0),"function"==typeof e.beforeSend&&e.beforeSend(r),r.onload=function(){if(200===r.status)if("json"==e.dataType)try{var t=JSON.parse(r.responseText);e.success&&"function"==typeof e.success&&e.success(t)}catch(n){e.error&&"function"==typeof e.error&&e.error(n,t)}else{t=r.responseText;e.success&&"function"==typeof e.success&&e.success(t)}else e.error&&"function"==typeof e.error&&e.error(r.responseText);if(jSuites.ajax.queue&&jSuites.ajax.queue.length>0&&jSuites.ajax.send(jSuites.ajax.queue.shift()),jSuites.ajax.requests&&jSuites.ajax.requests.length){var n=jSuites.ajax.requests.indexOf(r);jSuites.ajax.requests.splice(n,1),jSuites.ajax.requests.length||e.complete&&"function"==typeof e.complete&&e.complete(t)}},r.data=n,1==e.queue&&jSuites.ajax.requests.length>0?jSuites.ajax.queue.push(r):jSuites.ajax.send(r),r},jSuites.ajax.send=function(e){e.data?e.send(e.data.join("&")):e.send(),jSuites.ajax.requests.push(e)},jSuites.ajax.exists=function(e,t){var n=new XMLHttpRequest;n.open("HEAD",e,!1),n.send(),n.status&&t(n.status)},jSuites.ajax.requests=[],jSuites.ajax.queue=[],jSuites.animation={},jSuites.animation.slideLeft=function(e,t,n){1==t?(e.classList.add("slide-left-in"),setTimeout(function(){e.classList.remove("slide-left-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-left-out"),setTimeout(function(){e.classList.remove("slide-left-out"),"function"==typeof n&&n()},400))},jSuites.animation.slideRight=function(e,t,n){1==t?(e.classList.add("slide-right-in"),setTimeout(function(){e.classList.remove("slide-right-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-right-out"),setTimeout(function(){e.classList.remove("slide-right-out"),"function"==typeof n&&n()},400))},jSuites.animation.slideTop=function(e,t,n){1==t?(e.classList.add("slide-top-in"),setTimeout(function(){e.classList.remove("slide-top-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-top-out"),setTimeout(function(){e.classList.remove("slide-top-out"),"function"==typeof n&&n()},400))},jSuites.animation.slideBottom=function(e,t,n){1==t?(e.classList.add("slide-bottom-in"),setTimeout(function(){e.classList.remove("slide-bottom-in"),"function"==typeof n&&n()},400)):(e.classList.add("slide-bottom-out"),setTimeout(function(){e.classList.remove("slide-bottom-out"),"function"==typeof n&&n()},100))},jSuites.animation.fadeIn=function(e,t){e.classList.add("fade-in"),setTimeout(function(){e.classList.remove("fade-in"),"function"==typeof t&&t()},2e3)},jSuites.animation.fadeOut=function(e,t){e.classList.add("fade-out"),setTimeout(function(){e.classList.remove("fade-out"),"function"==typeof t&&t()},1e3)},jSuites.app=function(el,options){var obj={options:{}};obj.el=el,obj.options.path="pages";var panel=null,actionsheet=document.createElement("div");actionsheet.className="jactionsheet",actionsheet.style.display="none";var actionContent=document.createElement("div");actionContent.className="jactionsheet-content",actionsheet.appendChild(actionContent);var pages=document.querySelector(".pages");pages||(pages=document.createElement("div"),pages.className="pages",el.appendChild(pages)),el.classList.add("japp"),document.body.classList.add("jsuites");var parseScript=function(element){for(var script=element.getElementsByTagName("script"),i=0;i<script.length;i++){var type=script[i].getAttribute("type");type&&"text/javascript"!=type||eval(script[i].innerHTML)}};obj.pages=function(e,t){if(obj.pages.container[e]){if(t){var n=0;if("function"==typeof t)i=t;else"function"==typeof t.onenter&&(obj.pages.container[e].options.onenter=t.onenter),"function"==typeof t.onleave&&(obj.pages.container[e].options.onleave=t.onleave),n=t.ignoreHistory?1:0}obj.pages.show(obj.pages.container[e],n,i||null)}else if(e){if("function"==typeof t)var o={},i=t;else o=t||{};if(o.closed=t&&t.closed?1:0,o.route=e,!o.url){var a=e.split("#");o.url=obj.options.path+a[0]+".html"}o.title||(o.title="Untitled"),obj.pages.container[e]=obj.pages.create(o,i||null)}else console.error("JSUITES: Error, no route provided")},obj.pages.container={},obj.pages.show=function(e,t,n){if(obj.page){if(obj.page!=e){window.scrollTo({top:0}),e.style.display="";var o=Array.prototype.indexOf.call(pages.children,obj.page),i=Array.prototype.indexOf.call(pages.children,e);"function"==typeof obj.page.options.onleave&&obj.page.options.onleave(obj.page,e,t),jSuites.animation.slideLeft(pages,o<i?0:1,function(){obj.page.style.display="none",obj.page=e}),"function"==typeof e.options.onenter&&e.options.onenter(e,obj.page,t)}}else e.style.display="","function"==typeof e.options.onenter&&e.options.onenter(e),obj.page=e;t||window.history.pushState({route:e.options.route},e.options.title,e.options.route),"function"==typeof n&&n(e)},obj.pages.create=function(e,t){var n=document.createElement("div");return n.classList.add("page"),n.style.display="none",n.options=e||{},obj.page?pages.insertBefore(n,obj.page.nextSibling):pages.appendChild(n),jSuites.ajax({url:n.options.url,method:"GET",success:function(e){jSuites.refresh(n,n.options.onpush),n.innerHTML=e,parseScript(n),n.setTitle=function(e){this.children[0].children[0].children[1].innerHTML=e},n.options.closed||obj.pages.show(n),"function"==typeof n.options.onload&&n.options.onload(n),"function"==typeof t&&t(n)}}),n},obj.pages.get=function(e){if(obj.pages.container[e])return obj.pages.container[e]},obj.pages.destroy=function(){obj.page=null,obj.pages.container={},pages&&(pages.innerHTML="")},obj.panel=function(e,t){if(panel)obj.panel.show();else if((panel=document.createElement("div")).classList.add("panel"),panel.classList.add("panel-left"),panel.style.display="none",el.appendChild(panel),e){var n=obj.options.path+e+".html";jSuites.ajax({url:n,method:"GET",success:function(e){panel.innerHTML=e,parseScript(panel),t&&t.closed||obj.panel.show()}})}else obj.panel.show()},obj.panel.show=function(){panel.style.display="",panel.classList.contains("panel-left")?jSuites.animation.slideLeft(panel,1):jSuites.animation.slideRight(panel,1)},obj.panel.hide=function(){panel&&(panel.classList.contains("panel-left")?jSuites.animation.slideLeft(panel,0,function(){panel.style.display="none"}):jSuites.animation.slideRight(panel,0,function(){panel.animation.style.display="none"}))},obj.panel.get=function(){return panel},obj.panel.destroy=function(){el.removeChild(panel),panel=null},obj.actionsheet=function(e){e&&(obj.actionsheet.options=e),actionContent.innerHTML="";for(var t=0;t<obj.actionsheet.options.length;t++){var n=document.createElement("div");n.className="jactionsheet-group";for(var o=0;o<obj.actionsheet.options[t].length;o++){var i=obj.actionsheet.options[t][o],a=document.createElement("div"),r=document.createElement("input");r.type="button",r.value=i.title,i.className&&(r.className=i.className),i.onclick&&(r.onclick=i.onclick),"cancel"==i.action&&(r.style.color="red"),a.appendChild(r),n.appendChild(a)}actionContent.appendChild(n)}actionsheet.style.display="",el.appendChild(panel),jSuites.animation.slideBottom(actionContent,!0)},obj.actionsheet.close=function(){"none"!=actionsheet.style.display&&jSuites.animation.slideBottom(actionContent,!1,function(){actionsheet.remove(),actionsheet.style.display="none"})};var controlSwipeLeft=function(e){var t=jSuites.findElement(e.target,"option");t&&t.querySelector(".option-actions")?t.scrollTo({left:100,behavior:"smooth"}):panel&&"none"!=panel.style.display&&obj.panel.hide()},controlSwipeRight=function(e){var t=jSuites.findElement(e.target,"option");t&&t.querySelector(".option-actions")?t.scrollTo({left:0,behavior:"smooth"}):panel&&"none"==panel.style.display&&obj.panel.show()},actionDown=function(e){actionsheet.style.display||obj.actionsheet.close(),e.target.classList.contains("option-title")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):e.target.classList.add("selected"));var t=jSuites.findElement(e.target,function(e){return!("A"!=e.tagName&&"DIV"!=e.tagName||!e.getAttribute("data-href"))&&e});if(t){var n=t.getAttribute("data-href");"#back"==n?window.history.back():"#panel"==n?obj.panel():obj.pages(n)}};return el.addEventListener("swipeleft",controlSwipeLeft),el.addEventListener("swiperight",controlSwipeRight),"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",actionDown):document.addEventListener("mousedown",actionDown),window.onpopstate=function(e){e.state&&e.state.route&&obj.pages.get(e.state.route)&&obj.pages(e.state.route,{ignoreHistory:!0})},el.app=obj,obj},jSuites.calendar=function(e,t){var n={options:{}};jSuites.calendar.current||(jSuites.calendar.current=null);var o={data:null,type:null,validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdays_short:["S","M","T","W","T","F","S"],textDone:"Done",textReset:"Reset",textUpdate:"Update",value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,mode:null,position:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(n.options.value||"INPUT"==e.tagName&&e.value&&(n.options.value=e.value),n.options.format=n.options.format.toUpperCase(),n.date=null,n.options.value){var a=(r=n.options.value.split(" "))[1],r=r[0].split("-"),s=parseInt(r[0]),l=parseInt(r[1]),d=parseInt(r[2]);if(a){a=a.split(":");var c=parseInt(a[0]),u=parseInt(a[1])}else c=0,u=0;n.date=[s,l,d,c,u,0]}else if(n.options.today){s=(r=new Date).getFullYear(),l=r.getMonth()+1,d=r.getDate(),c=r.getHours(),u=r.getMinutes();n.date=[s,l,d,c,u,0]}var p=function(e){return 1==(e=""+e).length&&(e="0"+e),e},f=document.createElement("div");f.className="jcalendar-reset",f.innerHTML=n.options.textReset;var m=document.createElement("div");m.className="jcalendar-confirm",m.innerHTML=n.options.textDone;var h=document.createElement("div");h.className="jcalendar-controls",n.options.resetButton&&h.appendChild(f),h.appendChild(m);var g=document.createElement("div");g.className="jcalendar-container";var v=document.createElement("div");v.className="jcalendar-content",v.appendChild(h),g.appendChild(v);var w=document.createElement("div");if(w.className="jcalendar-table",v.appendChild(w),"INPUT"==e.tagName)var b=document.createElement("div");else b=e;b.className="jcalendar",b.appendChild(g);var y=document.createElement("td");y.setAttribute("colspan","2"),y.className="jcalendar-prev";var j=document.createElement("span");j.className="jcalendar-year";var L=document.createElement("span");L.className="jcalendar-month";var E=document.createElement("td");E.className="jcalendar-header",E.setAttribute("colspan","3"),E.appendChild(L),E.appendChild(j);var S=document.createElement("td");S.setAttribute("colspan","2"),S.className="jcalendar-next";var C=document.createElement("tr");C.appendChild(y),C.appendChild(E),C.appendChild(S);var x=document.createElement("thead");x.appendChild(C);var T=document.createElement("tbody"),A=document.createElement("tfoot"),N=document.createElement("table");N.setAttribute("cellpadding","0"),N.setAttribute("cellspacing","0"),N.appendChild(x),N.appendChild(T),N.appendChild(A),w.appendChild(N);var M=document.createElement("select");M.className="jcalendar-select",M.onchange=function(){n.date[3]=this.value};for(u=0;u<24;u++){(H=document.createElement("option")).value=u,H.innerHTML=p(u),M.appendChild(H)}var O=document.createElement("select");O.className="jcalendar-select",O.onchange=function(){n.date[4]=this.value};for(u=0;u<60;u++){var H;(H=document.createElement("option")).value=u,H.innerHTML=p(u),O.appendChild(H)}var k=document.createElement("div");k.className="jcalendar-controls";var I=document.createElement("div");I.className="jcalendar-time",I.style.maxWidth="140px",I.appendChild(M),I.appendChild(O);var D=document.createElement("input");D.setAttribute("type","button"),D.className="jcalendar-update",D.value=n.options.textUpdate;var P=document.createElement("div");P.style.flexGrow="10",P.appendChild(D),k.appendChild(I),k.appendChild(P),v.appendChild(k);var R=document.createElement("div");R.className="jcalendar-backdrop",b.appendChild(R);var q=function(){var e=b.querySelector(".jcalendar-selected");e&&e.classList.contains("jcalendar-disabled")?(D.setAttribute("disabled","disabled"),M.setAttribute("disabled","disabled"),O.setAttribute("disabled","disabled")):(D.removeAttribute("disabled"),M.removeAttribute("disabled"),O.removeAttribute("disabled"))};n.open=function(t){if(!b.classList.contains("jcalendar-focus")){if(jSuites.calendar.current&&jSuites.calendar.current.close(),jSuites.calendar.current=n,b.classList.add("jcalendar-focus"),n.getDays(),n.options.time&&(M.value=n.date[3],O.value=n.date[4]),jSuites.getWindowWidth()<800||n.options.fullscreen)b.classList.add("jcalendar-fullsize"),jSuites.animation.slideBottom(v,1);else{const t=e.getBoundingClientRect(),o=v.getBoundingClientRect();n.options.position?(g.style.position="fixed",window.innerHeight<t.bottom+o.height?g.style.top=t.top-(o.height+2)+"px":g.style.top=t.top+t.height+2+"px",g.style.left=t.left+"px"):window.innerHeight<t.bottom+o.height?g.style.bottom=1*t.height+o.height+2+"px":g.style.top="2px"}"function"==typeof n.options.onopen&&n.options.onopen(e)}},n.close=function(t,o){if(jSuites.calendar.current){if(jSuites.calendar.current=null,!1!==o){var i=b.querySelector(".jcalendar-selected");if("string"==typeof o)var a=o;else if(i&&i.classList.contains("jcalendar-disabled"))a=n.options.value;else a=n.getValue();n.setValue(a)}t||"function"!=typeof n.options.onclose||n.options.onclose(e),b.classList.remove("jcalendar-focus")}return n.options.value},n.prev=function(){"years"==n.options.mode?(n.date[0]=n.date[0]-12,n.getYears()):(n.date[1]<2?(n.date[0]=n.date[0]-1,n.date[1]=12):n.date[1]=n.date[1]-1,n.getDays())},n.next=function(){"years"==n.options.mode?(n.date[0]=parseInt(n.date[0])+12,n.getYears()):(n.date[1]>11?(n.date[0]=parseInt(n.date[0])+1,n.date[1]=1):n.date[1]=parseInt(n.date[1])+1,n.getDays())},n.setValue=function(t){t||(t=""+t);var o=t,i=n.options.value;n.setLabel(o,n.options.format);(r=o.split(" "))[1]||(r[1]="00:00:00");var a=r[1].split(":"),r=r[0].split("-"),s=parseInt(r[0]),l=parseInt(r[1]),d=parseInt(r[2]),c=parseInt(a[0]),u=parseInt(a[1]);n.date=[s,l,d,c,u,0];t=n.setLabel(o,n.options.format);i!=o&&("INPUT"==e.tagName&&(e.value=t),n.options.value=o,"function"==typeof n.options.onchange&&n.options.onchange(e,o,i)),n.getDays()},n.getValue=function(){return n.date?n.options.time?p(n.date[0])+"-"+p(n.date[1])+"-"+p(n.date[2])+" "+p(n.date[3])+":"+p(n.date[4])+":"+p(0):p(n.date[0])+"-"+p(n.date[1])+"-"+p(n.date[2])+" "+p(0)+":"+p(0)+":"+p(0):""},n.update=function(e){if(e.classList.contains("jcalendar-disabled"));else{n.date[2]=e.innerText,n.options.time?(n.date[3]=M.value,n.date[4]=O.value):n.close();var t=b.querySelector(".jcalendar-selected");t&&t.classList.remove("jcalendar-selected"),e.classList.add("jcalendar-selected")}q()},n.reset=function(){n.setValue(""),n.close(!1,!1)},n.getDays=function(){n.options.mode="days";var e=new Date,t=n.date&&n.date[0]?n.date[0]:parseInt(e.getFullYear()),o=n.date&&n.date[1]?n.date[1]:parseInt(e.getMonth())+1,i=n.date&&n.date[2]?n.date[2]:parseInt(e.getDate()),a=n.date&&n.date[3]?n.date[3]:parseInt(e.getHours()),r=n.date&&n.date[4]?n.date[4]:parseInt(e.getMinutes());n.date=[t,o,i,a,r,0],j.innerHTML=t,L.innerHTML=n.options.months[o-1];var s=e.getMonth()==o-1&&e.getFullYear()==t,l=e.getDate(),d=(e=new Date(t,o,0,0,0)).getDate(),c=(e=new Date(t,o-1,0,0,0)).getDay()+1;c-=p=n.options.startingDay||0,T.innerHTML="",(h=document.createElement("tr")).setAttribute("align","center"),T.appendChild(h);for(var u=0;u<7;u++){(v=document.createElement("td")).classList.add("jcalendar-weekday"),v.innerHTML=n.options.weekdays_short[p],h.appendChild(v),++p>6&&(p=0)}for(var p=0,f=0,m=0;m<6;m++){var h;(h=document.createElement("tr")).setAttribute("align","center");var g=!0;for(u=0;u<7;u++){var v;if((v=document.createElement("td")).classList.add("jcalendar-set-day"),p>=c&&p<c+d){f++,v.innerHTML=f,f==i&&v.classList.add("jcalendar-selected"),s&&l==f&&(v.style.fontWeight="bold");var w=jSuites.calendar.now(new Date(t,o-1,f),!0);if(n.options.validRange){if(!n.options.validRange[0]||w>=n.options.validRange[0])var b=!0;else b=!1;if(!n.options.validRange[1]||w<=n.options.validRange[1])var y=!0;else y=!1;b&&y||v.classList.add("jcalendar-disabled")}g=!1}h.appendChild(v),p++}0==g&&T.appendChild(h)}n.options.time?I.style.display="":I.style.display="none",q()},n.getMonths=function(){n.options.mode="months";var e=n.options.months;j.innerHTML=n.date[0],L.innerHTML="";var t='<td colspan="7"><table width="100%"><tr align="center">';for(u=0;u<12;u++){u>0&&!(u%4)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-month" data-value="'+(parseInt(u)+1)+'">'+e[u]+"</td>"}t+="</tr></table></td>",T.innerHTML=t},n.getYears=function(){n.options.mode="years";var e=[];for(u=0;u<25;u++)e[u]=parseInt(n.date[0])+(u-12);var t='<td colspan="7"><table width="100%"><tr align="center">';for(u=0;u<25;u++)u>0&&!(u%5)&&(t+='</tr><tr align="center">'),t+='<td class="jcalendar-set-year">'+e[u]+"</td>";t+="</tr></table></td>",T.innerHTML=t},n.setLabel=function(e,t){return jSuites.calendar.getDateString(e,t)},n.fromFormatted=function(e,t){return jSuites.calendar.extractDateFromString(e,t)};var V=function(e){var t=e.target.className;"jcalendar-prev"==t?(n.prev(),e.stopPropagation(),e.preventDefault()):"jcalendar-next"==t?(n.next(),e.stopPropagation(),e.preventDefault()):"jcalendar-month"==t?(n.getMonths(),e.stopPropagation(),e.preventDefault()):"jcalendar-year"==t?(n.getYears(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-year"==t?(n.date[0]=e.target.innerText,n.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-set-month"==t?(n.date[1]=parseInt(e.target.getAttribute("data-value")),n.getDays(),e.stopPropagation(),e.preventDefault()):"jcalendar-confirm"==t||"jcalendar-update"==t?(n.close(),e.stopPropagation(),e.preventDefault()):"jcalendar-close"==t?(n.close(),e.stopPropagation(),e.preventDefault()):"jcalendar-backdrop"==t?(n.close(!1,!1),e.stopPropagation(),e.preventDefault()):"jcalendar-reset"==t?(n.reset(),e.stopPropagation(),e.preventDefault()):e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&(n.update(e.target),e.stopPropagation(),e.preventDefault())};return e.addEventListener("keyup",function(e){if(e.target.value&&e.target.value.length>3){var t=jSuites.calendar.extractDateFromString(e.target.value,n.options.format);t&&"true"==e.target.getAttribute("data-completed")&&n.setValue(t)}}),b.addEventListener("swipeleft",function(e){jSuites.animation.slideLeft(N,0,function(){n.next(),jSuites.animation.slideRight(N,1)}),e.preventDefault(),e.stopPropagation()}),b.addEventListener("swiperight",function(e){jSuites.animation.slideRight(N,0,function(){n.prev(),jSuites.animation.slideLeft(N,1)}),e.preventDefault(),e.stopPropagation()}),"ontouchend"in document.documentElement==!0?(b.addEventListener("touchend",V),e.addEventListener("touchend",function(e){n.open()})):(b.addEventListener("mouseup",V),e.addEventListener("mouseup",function(e){n.open()})),jSuites.calendar.hasEvents||("ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.calendar.isOpen):document.addEventListener("mousedown",jSuites.calendar.isOpen),document.addEventListener("keydown",function(e){13==e.which?jSuites.calendar.current&&jSuites.calendar.current.close(!1,!0):27==e.which&&jSuites.calendar.current&&jSuites.calendar.current.close(!1,!1)}),jSuites.calendar.hasEvents=!0),"INPUT"==e.tagName&&(e.parentNode.insertBefore(b,e.nextSibling),e.setAttribute("autocomplete","off"),e.setAttribute("data-mask",n.options.format.toLowerCase()),n.options.readonly&&e.setAttribute("readonly","readonly"),n.options.placeholder&&e.setAttribute("placeholder",n.options.placeholder),e.classList.add("jcalendar-input"),e.value=n.setLabel(n.getValue(),n.options.format)),e.calendar=n,1==n.options.opened&&n.open(),n},jSuites.calendar.prettify=function(e,t){if(!t)t={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};var n=new Date,o=new Date(e),i=parseInt((n-o)/1e3/60);if(String.prototype.format=function(e){return this.replace("{0}",e)},0==i)var a=t.justNow;else if(i<90)a=t.xMinutesAgo.format(i);else if(i<1440)a=t.xHoursAgo.format(Math.round(i/60));else if(i<20160)a=t.xDaysAgo.format(Math.round(i/1440));else if(i<43200)a=t.xWeeksAgo.format(Math.round(i/10080));else if(i<1036800)a=t.xMonthsAgo.format(Math.round(i/43200));else a=t.xYearsAgo.format(Math.round(i/525600));return a},jSuites.calendar.prettifyAll=function(){for(var e=document.querySelectorAll(".prettydate"),t=0;t<e.length;t++)e[t].getAttribute("data-date")?e[t].innerHTML=jSuites.calendar.prettify(e[t].getAttribute("data-date")):(e[t].setAttribute("data-date",e[t].innerHTML),e[t].innerHTML=jSuites.calendar.prettify(e[t].innerHTML))},jSuites.calendar.now=function(e,t){if(!e)e=new Date;var n=e.getFullYear(),o=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),l=function(e){return 1==(e=""+e).length&&(e="0"+e),e};return 1==t?l(n)+"-"+l(o)+"-"+l(i):l(n)+"-"+l(o)+"-"+l(i)+" "+l(a)+":"+l(r)+":"+l(s)},jSuites.calendar.extractDateFromString=function(e,t){var n=""+e,o=t.replace(/[0-9]/g,""),i=1,a=o.search("YYYY");a=n.substr(a,4),parseInt(a)!=a&&(i=0);var r=o.search("MM");r=n.substr(r,2),(parseInt(r)!=r||s>12)&&(i=0);var s=o.search("DD");s=n.substr(s,2),(parseInt(s)!=s||s>31)&&(i=0);var l=o.search("HH");l>=0?(l=n.substr(l,2),(!parseInt(l)||l>23)&&(l="00")):l="00";var d=o.search("MI");d>=0?(d=n.substr(d,2),(!parseInt(d)||d>59)&&(d="00")):d="00";var c=o.search("SS");return c>=0?(c=n.substr(c,2),(!parseInt(c)||c>59)&&(c="00")):c="00",1==i&&e.length==o.length?a+"-"+r+"-"+s+" "+l+":"+d+":"+c:""},jSuites.calendar.getDateString=function(e,t){if(!t)t="DD/MM/YYYY";if(e){var n=""+e,o="",i="",a="";if((n=n.split(" "))[1]?(i=(o=n[1].split(":"))[1]?o[1]:"00",a=o[2]?o[2]:"00",o=o[0]?o[0]:"00"):(o="00",i="00",a="00"),(n=n[0].split("-"))[0]&&n[1]&&n[2]&&n[0]>0&&n[1]>0&&n[1]<13&&n[2]>0&&n[2]<32){var r=new Date(n[0],n[1]-1,n[2]),s=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),l=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");n[1]=(n[1].length<2?"0":"")+n[1],n[2]=(n[2].length<2?"0":"")+n[2],o=(o.length<2?"0":"")+o,i=(i.length<2?"0":"")+i,a=(a.length<2?"0":"")+a,e=(e=(e=(e=(e=(e=(e=t).replace("WD",s[r.getDay()])).replace("DD",n[2])).replace("MM",n[1])).replace("YYYY",n[0])).replace("YY",n[0].substring(2,4))).replace("MON",l[parseInt(n[1])-1].toUpperCase()),o&&(e=e.replace("HH24",o)),e=(e=(e=(e=o>12?(e=e.replace("HH12",o-12)).replace("HH",o):(e=e.replace("HH12",o)).replace("HH",o)).replace("MI",i)).replace("MM",i)).replace("SS",a)}else e=""}return e},jSuites.calendar.isOpen=function(e){jSuites.calendar.current&&(e.target.className&&-1!=e.target.className.indexOf("jcalendar")||jSuites.calendar.current.close(!1,!1))},jSuites.color=function(e,t){var n={options:{},values:[]};jSuites.color.current||(jSuites.color.current=null);var o={placeholder:"",value:null,onclose:null,onchange:null,closeOnChange:!0,palette:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];n.options.palette||(n.options.palette=[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]]),n.options.value&&(e.value=n.options.value);var a=document.createElement("div");a.className="jcolor";var r=document.createElement("div");r.className="jcolor-backdrop",a.appendChild(r);var s=document.createElement("div");s.className="jcolor-content";var l=document.createElement("div");l.className="jcolor-close",l.innerHTML="Done",l.onclick=function(){n.close()},s.appendChild(l);var d=document.createElement("table");d.setAttribute("cellpadding","7"),d.setAttribute("cellspacing","0");for(var c=0;c<n.options.palette.length;c++){for(var u=document.createElement("tr"),p=0;p<n.options.palette[c].length;p++){var f=document.createElement("td");f.style.backgroundColor=n.options.palette[c][p],f.setAttribute("data-value",n.options.palette[c][p]),f.innerHTML="",u.appendChild(f),n.options.value==n.options.palette[c][p]&&f.classList.add("jcolor-selected"),n.values[n.options.palette[c][p]]=f}d.appendChild(u)}return n.open=function(){if(jSuites.color.current&&jSuites.color.current!=n&&jSuites.color.current.close(),!jSuites.color.current){jSuites.color.current=n,a.classList.add("jcolor-focus");const t=s.getBoundingClientRect();if(jSuites.getWindowWidth()<800)s.style.top="",s.classList.add("jcolor-fullscreen"),jSuites.animation.slideBottom(s,1),r.style.display="block";else{s.classList.contains("jcolor-fullscreen")&&(s.classList.remove("jcolor-fullscreen"),r.style.display="");const n=e.getBoundingClientRect();window.innerHeight<n.bottom+t.height?s.style.top=-1*(t.height+n.height+2)+"px":s.style.top="2px"}a.focus()}},n.close=function(t){return jSuites.color.current&&(jSuites.color.current=null,t||"function"!=typeof n.options.onclose||n.options.onclose(e),a.classList.remove("jcolor-focus")),r.style.display="",n.options.value},n.setValue=function(t){t&&(e.value=t,n.options.value=t);var o=a.querySelector(".jcolor-selected");o&&o.classList.remove("jcolor-selected"),n.values[t]&&n.values[t].classList.add("jcolor-selected"),"function"==typeof n.options.onchange&&n.options.onchange(e,t),1==n.options.closeOnChange&&n.close()},n.getValue=function(){return n.options.value},e.addEventListener("focus",function(e){n.open()}),e.addEventListener("mousedown",function(e){jSuites.color.current||setTimeout(function(){n.open(),e.preventDefault()},200)}),a.addEventListener("mouseup",function(e){"TD"==e.target.tagName&&(jSuites.color.current.setValue(e.target.getAttribute("data-value")),jSuites.color.current&&jSuites.color.current.close())}),document.addEventListener("mousedown",function(e){jSuites.color.current&&(jSuites.findElement(e.target,"jcolor")||jSuites.color.current.close())}),a.setAttribute("tabindex","900"),n.options.placeholder&&e.setAttribute("placeholder",n.options.placeholder),s.appendChild(d),a.appendChild(s),"INPUT"==e.tagName?e.parentNode.insertBefore(a,e.nextSibling):e.appendChild(a),e.color=n,n},jSuites.contextmenu=function(e,t){var n={options:{}},o={items:null,onclick:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];return e.classList.add("jcontextmenu"),e.setAttribute("tabindex","900"),n.open=function(t,o){if(o&&(n.options.items=o,n.create(o)),n.options.items&&n.options.items.length>0||e.children.length){if(t.target)var i=t.clientX,a=t.clientY;else i=t.x,a=t.y;e.classList.add("jcontextmenu-focus"),e.focus();const n=e.getBoundingClientRect();window.innerHeight<a+n.height?e.style.top=a-n.height+"px":e.style.top=a+"px",window.innerWidth<i+n.width?i-n.width>0?e.style.left=i-n.width+"px":e.style.left="10px":e.style.left=i+"px"}},n.close=function(){e.classList.contains("jcontextmenu-focus")&&e.classList.remove("jcontextmenu-focus")},n.create=function(t){e.innerHTML="";for(var n=0;n<t.length;n++){if(!t[n].type||"line"!=t[n].type&&"divisor"!=t[n].type){a=document.createElement("div");var o=document.createElement("a");if(o.innerHTML=t[n].title,t[n].disabled?a.className="jcontextmenu-disabled":t[n].onclick&&(a.method=t[n].onclick,a.addEventListener("mouseup",function(){this.method(this)})),a.appendChild(o),t[n].shortcut){var i=document.createElement("span");i.innerHTML=t[n].shortcut,a.appendChild(i)}}else var a=document.createElement("hr");e.appendChild(a)}},"function"==typeof n.options.onclick&&e.addEventListener("click",function(e){n.options.onclick(n)}),n.options.items&&n.create(n.options.items),e.addEventListener("blur",function(e){setTimeout(function(){n.close()},120)}),jSuites.contextmenu.hasEvents||(window.addEventListener("mousewheel",function(){n.close()}),document.addEventListener("contextmenu",function(e){var t=jSuites.contextmenu.getElement(e.target);if(t){var n=document.querySelector("#"+t);n?(n.contextmenu.open(e),e.preventDefault()):console.error("JSUITES: Contextmenu id not found")}}),jSuites.contextmenu.hasEvents=!0),e.contextmenu=n,n},jSuites.contextmenu.getElement=function(e){var t=0;return function e(n){n.parentNode&&n.getAttribute("aria-contextmenu-id")?t=n.getAttribute("aria-contextmenu-id"):n.parentNode&&e(n.parentNode)}(e),t},jSuites.dialog=function(){var e={options:{}},t=null,n=null,o=null,i=null,a=null,r=null,s=null,l=null,d=null,c=null;return e.open=function(o){jSuites.dialog.hasEvents||(e.init(),jSuites.dialog.hasEvents=!0),e.options=o,e.options.title&&(n.innerHTML=e.options.title),e.options.message&&(i.innerHTML=e.options.message),e.options.confirmLabel||(e.options.confirmLabel="OK"),l.value=e.options.confirmLabel,e.options.cancelLabel||(e.options.cancelLabel="Cancel"),c.value=e.options.cancelLabel,"confirm"==e.options.type?c.parentNode.style.display="":c.parentNode.style.display="none",t.style.opacity=100,jSuites.el?jSuites.el.appendChild(t):document.body.appendChild(t),t.focus(),setTimeout(function(){r.style.opacity=100},0)},e.close=function(){t.style.opacity=0,r.style.opacity=0,setTimeout(function(){t.remove()},100)},e.init=function(){(t=document.createElement("div")).setAttribute("tabindex","901"),t.className="jdialog",t.id="dialog",(o=document.createElement("div")).className="jdialog-header",(n=document.createElement("div")).className="jdialog-title",o.appendChild(n),(i=document.createElement("div")).className="jdialog-message",o.appendChild(i),(a=document.createElement("div")).className="jdialog-footer",(r=document.createElement("div")).className="jdialog-container",r.appendChild(o),r.appendChild(a),s=document.createElement("div"),(l=document.createElement("input")).value=e.options.confirmLabel,l.type="button",l.onclick=function(){"function"==typeof e.options.onconfirm&&e.options.onconfirm(),e.close()},s.appendChild(l),a.appendChild(s),d=document.createElement("div"),(c=document.createElement("input")).value=e.options.cancelLabel,c.type="button",c.onclick=function(){"function"==typeof e.options.oncancel&&e.options.oncancel(),e.close()},d.appendChild(c),a.appendChild(d),t.appendChild(r),document.addEventListener("keydown",function(t){13==t.which?("function"==typeof e.options.onconfirm&&jSuites.dialog.options.onconfirm(),e.close()):27==t.which&&e.close()})},e}(),jSuites.confirm=function(e,t){jSuites.getWindowWidth()<800?jSuites.dialog.open({type:"confirm",message:e,title:"Confirmation",onconfirm:t}):confirm(e)&&t()},jSuites.alert=function(e){jSuites.getWindowWidth()<800?jSuites.dialog.open({title:"Alert",message:e}):alert(e)},jSuites.dropdown=function(e,t){var n={options:{}};if("SELECT"==e.tagName){var o=jSuites.dropdown.extractFromDom(e,t);e=o.el,t=o.options}var i={url:null,data:[],multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null};for(var a in i)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=i[a];jSuites.dropdown.current||(jSuites.dropdown.current=null),1==n.options.remoteSearch&&(n.options.autocomplete=!0),n.items=[],n.groups=[],n.value=[],n.search="",n.results=null,n.numOfItems=0,e.classList.add("jdropdown"),"searchbar"==n.options.type?e.classList.add("jdropdown-searchbar"):"list"==n.options.type?e.classList.add("jdropdown-list"):"picker"==n.options.type?e.classList.add("jdropdown-picker"):jSuites.getWindowWidth()<800?(e.classList.add("jdropdown-picker"),n.options.type="picker"):(n.options.width&&(e.style.width=n.options.width,e.style.minWidth=n.options.width),e.classList.add("jdropdown-default"),n.options.type="default");var r=document.createElement("div");r.className="jdropdown-container-header",n.header=document.createElement("input"),n.header.className="jdropdown-header",n.header.setAttribute("autocomplete","off"),"function"==typeof n.options.onfocus&&(n.header.onfocus=function(){n.options.onfocus(e)}),"function"==typeof n.options.onblur&&(n.header.onblur=function(){n.options.onblur(e)});var s=document.createElement("div");s.className="jdropdown-container";var l=document.createElement("div");l.className="jdropdown-content";var d=document.createElement("div");d.className="jdropdown-create-option",d.innerHTML="New option";var c=document.createElement("div");c.className="jdropdown-close",c.innerHTML="Done";var u=document.createElement("div");u.className="jdropdown-reset",u.innerHTML="x",u.onclick=function(){n.reset(),n.close()};var p=document.createElement("div");if(p.className="jdropdown-backdrop",1==n.options.autocomplete){e.setAttribute("data-autocomplete",!0);var f=null;n.header.addEventListener("keyup",function(t){f||(n.search!=n.header.value.trim()&&(f=setTimeout(function(){n.find(n.header.value.trim()),f=null},400)),e.classList.contains("jdropdown-focus")||n.open())})}else n.header.setAttribute("readonly","readonly");!n.options.placeholder&&e.getAttribute("placeholder")&&(n.options.placeholder=e.getAttribute("placeholder")),n.options.placeholder&&n.header.setAttribute("placeholder",n.options.placeholder),r.appendChild(n.header),"searchbar"==n.options.type?r.appendChild(c):s.appendChild(c),!n.options.type||n.options.type,s.appendChild(l),e.appendChild(r),e.appendChild(s),e.appendChild(p);return n.init=function(){n.options.url?jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(t){t&&(n.setData(t),null!=n.options.value&&n.setValue(n.options.value),"function"==typeof n.options.onload&&n.options.onload(e,n,t))}}):(n.setData(),null!=n.options.value&&n.setValue(n.options.value),"function"==typeof n.options.onload&&n.options.onload(e,n,n.options.data)),1==n.options.opened&&n.open()},n.getUrl=function(){return n.options.url},n.setUrl=function(e){n.options.url=e,jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(e){n.setData(e)}})},n.createItem=function(e,t){var o=e.text||"";!o&&e.name&&(o=e.name),o.trim()||(o="&nbsp;");var i=e.value||"";!i&&e.id&&(i=e.id);var a={};if(a.element=document.createElement("div"),a.element.className="jdropdown-item",a.element.indexValue=n.items.length,a.value=i,a.text=o,a.textLowerCase=a.text.toLowerCase(),e.id&&a.element.setAttribute("id",e.id),t&&(a.group=t),e.image){var r=document.createElement("img");r.className="jdropdown-image",r.src=e.image,e.title||r.classList.add("jdropdown-image-small"),a.element.appendChild(r)}var s=document.createElement("div");if(s.className="jdropdown-description",s.innerHTML=o||"&nbsp;",e.title){var l=document.createElement("div");l.className="jdropdown-title",l.innerHTML=e.title,s.appendChild(l)}return n.value&&n.value[e.value]&&(a.element.classList.add("jdropdown-selected"),a.selected=!0),n.items.push(a),a.element.appendChild(s),a},n.appendData=function(e){if(e.length){n.numOfItems=0;for(var t=[],o=[],i=0;i<e.length;i++)e[i].group?(o[e[i].group]||(o[e[i].group]=[]),o[e[i].group].push(i)):t.push(i);var a=Object.keys(o);if(a.length>0)for(i=0;i<a.length;i++){var r=document.createElement("div");r.className="jdropdown-group";var s=document.createElement("div");s.className="jdropdown-group-name",s.innerHTML=a[i];var d=document.createElement("i");d.className="jdropdown-group-arrow jdropdown-group-arrow-down",s.appendChild(d);var c=document.createElement("div");c.className="jdropdown-group-items";for(var u=0;u<o[a[i]].length;u++){var p=n.createItem(e[o[a[i]][u]],r);(0==n.options.lazyLoading||n.numOfItems<200)&&(c.appendChild(p.element),n.numOfItems++)}r.appendChild(s),r.appendChild(d),r.appendChild(c),n.groups.push(r),c.children.length>0&&l.appendChild(r)}if(t.length)for(i=0;i<t.length;i++){p=n.createItem(e[t[i]]);(0==n.options.lazyLoading||n.numOfItems<200)&&(l.appendChild(p.element),n.numOfItems++)}}},n.setData=function(e){if(e&&(n.options.data=e),(e=n.options.data).length){for(var t=0;t<e.length;t++)"object"!=typeof e[t]&&(e[t]={value:e[t],text:e[t]});l.innerHTML="",n.reset(),n.items=[],n.appendData(e)}},n.getPosition=function(e){for(var t=0;t<n.items.length;t++)if(n.items[t].value==e)return t;return 0},n.getText=function(e){for(var t=[],o=Object.keys(n.value),i=0;i<o.length;i++)t.push(n.value[o[i]]);return e?t:t.join("; ")},n.getValue=function(e){return e?Object.keys(n.value):Object.keys(n.value).join(";")},n.setValue=function(t){for(var o=function(e,t){n.items[e].value==t&&(n.items[e].element&&n.items[e].element.classList.add("jdropdown-selected"),n.items[e].selected=!0,n.value[t]=n.items[e].text)},i=n.getValue(),a=0;a<n.items.length;a++)1==n.items[a].selected&&(n.items[a].element&&n.items[a].element.classList.remove("jdropdown-selected"),n.items[a].selected=null);if(n.value=[],null!=t)if(Array.isArray(t))for(a=0;a<n.items.length;a++)for(var r=0;r<t.length;r++)o(a,t[r]);else for(var a=0;a<n.items.length;a++)o(a,t);n.header.value=n.getText(),"function"==typeof n.options.onchange&&n.options.onchange(e,null,i,n.getValue())},n.resetSelected=function(){n.setValue(null)},n.selectIndex=function(t){t=parseInt(t);if(n.items&&n.items[t]){var o=n.getValue();n.setCursor(t,!1),n.options.multiple?(n.items[t].selected?(n.items[t].element.classList.remove("jdropdown-selected"),n.items[t].selected=!1,delete n.value[n.items[t].value]):(n.items[t].element.classList.add("jdropdown-selected"),n.items[t].selected=!0,n.value[n.items[t].value]=n.items[t].text),n.options.autocomplete||(n.header.value=n.getText()),"function"==typeof n.options.onchange&&n.options.onchange(e,t,o,n.getValue())):(n.value[n.items[t].value]?n.setValue(null):n.setValue(n.items[t].value),n.close())}},n.selectItem=function(e){jSuites.dropdown.current&&n.selectIndex(e.indexValue)},n.find=function(e){if(n.search==e.trim())return!1;n.numOfItems=0,n.search=e;e=e?e.toLowerCase():"";if(1==n.options.remoteSearch)n.currentIndex=null,n.results=null,jSuites.ajax({url:n.options.url+"?q="+e,method:"GET",dataType:"json",success:function(e){n.items=[],l.innerHTML="",n.appendData(e),e.length?l.style.display="":l.style.display="none"}});else{n.results=[];for(var t=0;t<n.items.length;t++)if((null==e||-1!=n.items[t].textLowerCase.indexOf(e)||null!=n.value[n.items[t].value])&&(n.results.push(n.items[t]),n.items[t].group&&n.items[t].group.children[2].children[0]))for(;n.items[t].group.children[2].children[0];)n.items[t].group.children[2].removeChild(n.items[t].group.children[2].children[0]);for(;l.children[0];)l.removeChild(l.children[0]);var o=n.results.length||0;1==n.options.lazyLoading&&o>200&&(o=200);for(t=0;t<o;t++)n.results[t].group?(n.results[t].group.parentNode||l.appendChild(n.results[t].group),n.results[t].group.children[2].appendChild(n.results[t].element)):l.appendChild(n.results[t].element),n.numOfItems++;n.results.length?l.style.display="":l.style.display="none"}},n.open=function(){if(jSuites.dropdown.current!=e&&(jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close(),jSuites.dropdown.current=e),!e.classList.contains("jdropdown-focus")){e.classList.add("jdropdown-focus"),jSuites.getWindowWidth()<800&&(null!=n.options.type&&"picker"!=n.options.type||jSuites.animation.slideBottom(s,1)),1==n.options.autocomplete&&(n.header.value=n.search,n.header.focus());var t=Object.keys(n.value);if(t[0]){var o=n.getPosition(t[0]);o&&n.setCursor(o)}if(!n.options.type||"default"==n.options.type){const t=e.getBoundingClientRect(),o=s.getBoundingClientRect();n.options.position?(s.style.position="fixed",window.innerHeight<t.bottom+o.height?(s.style.top="",s.style.bottom=window.innerHeight-t.top+1+"px"):(s.style.top=t.bottom+"px",s.style.bottom=""),s.style.left=t.left+"px"):window.innerHeight<t.bottom+o.height?(s.style.top="",s.style.bottom=t.height+1+"px"):(s.style.top="",s.style.bottom=""),s.style.minWidth=t.width+"px",n.options.maxWidth&&(s.style.maxWidth=n.options.maxWidth),n.items.length||1!=n.options.autocomplete?l.style.display="":l.style.display="none"}}"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(t){return jSuites.dropdown.current&&(jSuites.dropdown.current=null,n.setCursor(),n.header.value=n.getText(),t||"function"!=typeof n.options.onclose||n.options.onclose(e),n.header.blur&&n.header.blur(),e.classList.remove("jdropdown-focus")),n.getValue()},n.setCursor=function(e,t){if(null!=n.currentIndex&&n.items&&n.items[n.currentIndex]&&n.items[n.currentIndex].element.classList.remove("jdropdown-cursor"),null==e)n.currentIndex=null;else if(parseInt(e),n.items[e].element.classList.add("jdropdown-cursor"),n.currentIndex=e,!1!==t&&n.items[n.currentIndex].element){l.scrollTop;var o=n.items[n.currentIndex].element;l.scrollTop=o.offsetTop-o.scrollTop+o.clientTop-95}},n.resetCursor=n.setCursor,n.updateCursor=n.setCursor,n.reset=function(){n.setCursor(),n.setValue(null)},n.firstVisible=function(){for(var e=null,t=0;t<n.items.length;t++)if("none"!=n.items[t].element.style.display){e=t;break}if(null==e)return!1;n.setCursor(e)},n.first=function(){for(var e=null,t=n.currentIndex-1;t>=0;t--)n.items&&n.items[t]&&"none"!=n.items[t].element.style.display&&(e=t);if(null==e)return!1;n.setCursor(e)},n.last=function(){for(var e=null,t=n.currentIndex+1;t<n.items.length;t++)n.items&&n.items[t]&&"none"!=n.items[t].element.style.display&&(e=t);if(null==e)return!1;n.setCursor(e)},n.next=function(){for(var e=null,t=n.currentIndex+1;t<n.items.length;t++)if(n.items&&n.items[t]&&n.items[t].element.parentNode){e=t;break}if(null==e)return!1;n.setCursor(e)},n.prev=function(){for(var e=null,t=n.currentIndex-1;t>=0;t--)if(n.items&&n.items[t]&&n.items[t].element.parentNode){e=t;break}if(null==e)return!1;n.setCursor(e)},n.loadUp=function(){return!1},n.loadDown=function(){var e=!1;if(n.results)var t=n.results;else t=n.items;if(t.length>n.numOfItems){var o=n.numOfItems,i=t.length-o;i>200&&(i=200);for(var a=o;a<o+i;a++)t[a].group?(t[a].group.parentNode||l.appendChild(t[a].group),t[a].group.children[2].appendChild(t[a].element)):l.appendChild(t[a].element),n.numOfItems++;e=!0}return e},jSuites.dropdown.hasEvents||("ontouchsend"in document.documentElement==!0?document.addEventListener("touchsend",jSuites.dropdown.mouseup):document.addEventListener("mouseup",jSuites.dropdown.mouseup),document.addEventListener("keydown",jSuites.dropdown.onkeydown),jSuites.dropdown.hasEvents=!0),1==n.options.lazyLoading&&jSuites.lazyLoading(l,{loadUp:n.loadUp,loadDown:n.loadDown}),n.init(),e.dropdown=n,n},jSuites.dropdown.hasEvents=!1,jSuites.dropdown.mouseup=function(e){var t=jSuites.findElement(e.target,"jdropdown");if(t){var n=t.dropdown;if(e.target.classList.contains("jdropdown-header"))if(t.classList.contains("jdropdown-focus")&&t.classList.contains("jdropdown-default"))if(0==n.options.autocomplete)n.close();else{var o=t.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var i=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else i=e.clientX,e.clientY;o.width-(i-o.left)<30&&n.close()}else n.open();else if(e.target.classList.contains("jdropdown-group-name")){var a=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var r=0;r<a.length;r++)"none"!=a[r].style.display&&n.selectItem(a[r])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?n.selectItem(e.target):e.target.classList.contains("jdropdown-image")?n.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-description")?n.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?n.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&n.close();e.stopPropagation(),e.preventDefault()}else jSuites.dropdown.current&&jSuites.dropdown.current.dropdown.close()},jSuites.dropdown.onkeydown=function(e){if(jSuites.dropdown.current){var t=jSuites.dropdown.current.dropdown,n=t.currentIndex;e.shiftKey||13!=e.which&&27!=e.which&&35!=e.which&&36!=e.which&&38!=e.which&&40!=e.which||(13==e.which?t.selectIndex(n):38==e.which?null==n?t.firstVisible():n>0&&t.prev():40==e.which?null==n?t.firstVisible():n+1<t.items.length&&t.next():36==e.which?t.first():35==e.which?t.last():27==e.which&&t.close(),e.stopPropagation(),e.preventDefault())}},jSuites.dropdown.extractFromDom=function(e,t){var n=e;if(t||(t={}),!e.getAttribute("multiple")||t&&null!=t.multiple||(t.multiple=!0),!e.getAttribute("placeholder")||t&&null!=t.placeholder||(t.placeholder=e.getAttribute("placeholder")),!e.getAttribute("data-autocomplete")||t&&null!=t.autocomplete||(t.autocomplete=!0),t&&null!=t.width||(t.width=e.offsetWidth),!e.value||t&&null!=t.value||(t.value=e.value),!t||null==t.data){t.data=[];for(var o=0;o<e.children.length;o++)if("OPTGROUP"==e.children[o].tagName)for(var i=0;i<e.children[o].children.length;i++)t.data.push({value:e.children[o].children[i].value,text:e.children[o].children[i].innerHTML,group:e.children[o].getAttribute("label")});else t.data.push({value:e.children[o].value,text:e.children[o].innerHTML})}t&&null!=t.onchange||(t.onchange=function(e,o,i,a){1==t.multiple?obj.items[o].classList.contains("jdropdown-selected")?n.options[o].setAttribute("selected","selected"):n.options[o].removeAttribute("selected"):n.value=a});var a=document.createElement("div");return e.parentNode.insertBefore(a,e),e.style.display="none",{el:e=a,options:t}},jSuites.editor=function(e,t){var n={options:{}},o={value:null,snippet:null,toolbar:null,remoteParser:null,parseURL:!1,dropZone:!1,dropAsAttachment:!1,acceptImages:!1,acceptFiles:!1,maxFileSize:5e6,border:!0,padding:!0,maxHeight:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];var a=null,r=null;e.innerHTML="","function"==typeof n.options.onclick&&(e.onclick=function(t){n.options.onclick(e,n,t)}),e.classList.add("jeditor-container"),1==n.options.padding&&e.classList.add("jeditor-padding"),0==n.options.border&&(e.style.border="0px");var s=document.createElement("div");s.className="jsnippet",s.setAttribute("contenteditable",!1);var l=document.createElement("div");l.className="jeditor-toolbar";var d=document.createElement("div");if(d.setAttribute("contenteditable",!0),d.setAttribute("spellcheck",!1),d.className="jeditor",n.options.maxHeight&&(d.style.overflowY="auto",d.style.maxHeight=n.options.maxHeight),n.options.value)var c=n.options.value;else c=e.innerHTML?e.innerHTML:"";if(!c)c="<br>";var u=function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.querySelectorAll("img");if(o.length)for(var i=0;i<o.length;i++)n.addImage(o[i].src)},p=function(e){var t,n;if(window.getSelection&&(t=window.getSelection()).rangeCount){(n=t.getRangeAt(0)).toString();n.deleteContents(),n.insertNode(e),n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n)}},f=function(e){if(s.innerHTML="",e.image){(n=document.createElement("div")).className="jsnippet-image",n.setAttribute("data-k","image"),s.appendChild(n);var t=document.createElement("img");t.src=e.image,n.appendChild(t)}var n;(n=document.createElement("div")).className="jsnippet-title",n.setAttribute("data-k","title"),n.innerHTML=e.title,s.appendChild(n),(n=document.createElement("div")).className="jsnippet-description",n.setAttribute("data-k","description"),n.innerHTML=e.description,s.appendChild(n),(n=document.createElement("div")).className="jsnippet-host",n.setAttribute("data-k","host"),n.innerHTML=e.host,s.appendChild(n),(n=document.createElement("div")).className="jsnippet-url",n.setAttribute("data-k","url"),n.innerHTML=e.url,s.appendChild(n),d.appendChild(s)},m=function(){clearTimeout(a),a=setTimeout(function(){var t=d.querySelector(".jsnippet"),o=e.querySelector(".jeditor-thumbs-container");if(!t&&!o){var i=d.innerHTML.replace(/\n/g," "),a=document.createElement("div");a.innerHTML=i,(o=a.querySelector(".jeditor-thumbs-container"))&&o.remove();var r=a.innerText,s=jSuites.editor.detectUrl(r);if(s)if("jpg"==s[0].substr(-3)||"png"==s[0].substr(-3)||"gif"==s[0].substr(-3))jSuites.editor.getDomain(s[0])==window.location.hostname?n.importImage(s[0],""):n.importImage(n.options.remoteParser+s[0],"");else{var l=jSuites.editor.youtubeParser(s[0]);n.parseWebsite(s[0],l)}}},1e3)};n.parseContent=function(){m()},n.parseWebsite=function(e,t){if(n.options.remoteParser){if(t)e="https://www.youtube.com/watch?v="+t;var o={title:"",description:"",image:"",host:e.split("/")[2],url:e};jSuites.ajax({url:n.options.remoteParser+encodeURI(e.trim()),method:"GET",dataType:"json",success:function(e){e.title&&(o.title=e.title),e.description&&(o.description=e.description),e.image?o.image=e.image:e["og:image"]&&(o.image=e["og:image"]),e.host&&(o.host=e.host),e.url&&(o.url=e.url),f(o)}})}else console.log("The remoteParser is not defined")},n.setData=function(e){d.innerHTML=e,jSuites.editor.setCursor(d,!0)},n.getText=function(){return d.innerText},n.getData=function(e){if(e){r={content:""};var t=d.querySelectorAll(".post-tag");if(t.length){r.users=[];for(var n=0;n<t.length;n++){var o=t[n].getAttribute("data-user");o&&r.users.push(o)}r.users=r.users.join(",")}if(s.innerHTML){r.snippet={};for(n=0;n<s.children.length;n++){var i=s.children[n].getAttribute("data-k");i&&("image"==i?r.snippet.image=s.children[n].children[0].getAttribute("src"):r.snippet[i]=s.children[n].innerHTML)}s.innerHTML="",s.remove()}var a=d.innerHTML;a=(a=(a=a.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),r.content=a.trim(),r=JSON.stringify(r)}else var r=d.innerHTML;return r},n.reset=function(){d.innerHTML=""},n.addPdf=function(e){if("data"!=e.result.substr(0,4))console.error("Invalid source");else{var t=document.createElement("canvas");t.width=60,t.height=60;var n=new Image;t.getContext("2d").drawImage(n,0,0,t.width,t.height),t.toBlob(function(t){var n=document.createElement("img");n.src=window.URL.createObjectURL(t),n.setAttribute("data-extension","pdf"),e.name&&n.setAttribute("data-name",e.name),e.size&&n.setAttribute("data-size",e.size),e.date&&n.setAttribute("data-date",e.date),n.className="jfile pdf",p(n),jSuites.files[n.src]=e.result.substr(e.result.indexOf(",")+1)})}},n.addImage=function(e,t,o,i){if("data"==e.substr(0,4)||n.options.remoteParser){if("data"==e.substr(0,4)){a=(a=(a=e.split(";"))[0].split("/"))[1]}else{var a=e.substr(e.lastIndexOf(".")+1);e=n.options.remoteParser+e}var r=new Image;r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0,e.width,e.height),e.toBlob(function(n){var r=document.createElement("img");r.src=window.URL.createObjectURL(n),r.setAttribute("tabindex","900"),r.setAttribute("data-extension",a),t&&r.setAttribute("data-name",t),o&&r.setAttribute("data-size",o),i&&r.setAttribute("data-date",i),r.className="jfile";var s=e.toDataURL();p(r),jSuites.files[r.src]=s.substr(s.indexOf(",")+1)})},r.src=e}else console.error("remoteParser not defined in your initialization")},n.addFile=function(e){for(var t=[],o=0;o<e.length;o++)if(e[o].size>n.options.maxFileSize)alert("The file is too big");else{var i=e[o].type.split("/");(i="image"==i[0]?1:"pdf"==i[1]?2:0)?(t[o]=new FileReader,t[o].index=o,t[o].type=i,t[o].name=e[o].name,t[o].date=e[o].lastModified,t[o].size=e[o].size,t[o].addEventListener("load",function(e){2==e.target.type?1==n.options.acceptFiles&&n.addPdf(e.target):n.addImage(e.target.result,e.target.name,e.total,e.target.lastModified)},!1),t[o].readAsDataURL(e[o])):alert("The extension is not allowed")}},n.destroy=function(){d.removeEventListener("mouseup",h),d.removeEventListener("mousedown",g),d.removeEventListener("mousemove",v),d.removeEventListener("keyup",w),d.removeEventListener("keydown",b),d.removeEventListener("dragstart",j),d.removeEventListener("dragenter",L),d.removeEventListener("dragover",E),d.removeEventListener("drop",S),d.removeEventListener("paste",y),"function"==typeof n.options.onblur&&d.removeEventListener("blur",C),"function"==typeof n.options.onfocus&&d.removeEventListener("focus",x),e.editor=null,e.classList.remove("jeditor-container"),l.remove(),s.remove(),d.remove()};var h=function(e){r=!1},g=function(e){var t=function(t){var n=t.getBoundingClientRect();n.width-(e.clientX-n.left)<40&&e.clientY-n.top<40&&(t.innerHTML="",t.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var n=e.target.getBoundingClientRect();r={e:e.target,x:e.clientX,y:e.clientY,w:n.width,h:n.height,d:e.target.style.cursor},e.target.style.width||(e.target.style.width=n.width+"px"),e.target.style.height||(e.target.style.height=n.height+"px");var o=window.getSelection();if(o.rangeCount)for(var i=0;i<o.rangeCount;i++)o.removeRange(o.getRangeAt(i))}else r=!0;else e.target.classList.contains("jsnippet")?t(e.target):e.target.parentNode.classList.contains("jsnippet")&&t(e.target.parentNode),r=!0},v=function(e){if("IMG"==e.target.tagName&&e.target.getAttribute("tabindex")){var t=e.target.getBoundingClientRect();e.clientY-t.top<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="ne-resize":e.clientX-t.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":t.height-(e.clientY-t.top)<5?t.width-(e.clientX-t.left)<5?e.target.style.cursor="se-resize":e.clientX-t.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":t.width-(e.clientX-t.left)<5?e.target.style.cursor="e-resize":e.clientX-t.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&r&&r.d){if("e-resize"==r.d||"ne-resize"==r.d||"se-resize"==r.d)if(r.e.style.width=r.w+(e.clientX-r.x)+"px",e.shiftKey){var n=(e.clientX-r.x)*(r.h/r.w);r.e.style.height=r.h+n+"px"}else n=null;n||"s-resize"!=r.d&&"se-resize"!=r.d&&"sw-resize"!=r.d||e.shiftKey||(r.e.style.height=r.h+(e.clientY-r.y)+"px")}},w=function(t){d.innerHTML||(d.innerHTML="<div><br></div>"),"function"==typeof n.options.onkeyup&&n.options.onkeyup(e,n,t)},b=function(t){1==n.options.parseURL&&m(),"function"==typeof n.options.onkeydown&&n.options.onkeydown(e,n,t)},y=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var t=(e.originalEvent||e).clipboardData.getData("text/html"),o=(e.originalEvent||e).clipboardData.getData("text/plain"),i=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)t=window.clipboardData.getData("Html"),o=window.clipboardData.getData("Text"),i=window.clipboardData.files;if(i.length)n.addFile(i);else{o=o.split("\r\n");var a="";if("DIV"==e.target.nodeName&&e.target.classList.contains("jeditor"))for(var r=0;r<o.length;r++){var s=document.createElement("div");o[r]?s.innerHTML=o[r]:s.innerHTML="<br/>",e.target.appendChild(s)}else{for(r=0;r<o.length;r++)o[r]&&(a+="<div>"+o[r]+"</div>\r\n");document.execCommand("insertHtml",!1,a)}1==n.options.acceptImages&&u(t)}e.preventDefault()},j=function(e){r&&r.e&&e.preventDefault()},L=function(t){r||0==n.options.dropZone||e.classList.add("jeditor-dragging")},E=function(t){r||0==n.options.dropZone||(a&&clearTimeout(a),a=setTimeout(function(){e.classList.remove("jeditor-dragging")},100))},S=function(t){if(r||0==n.options.dropZone);else{var o=null;document.caretRangeFromPoint?o=document.caretRangeFromPoint(t.clientX,t.clientY):t.rangeParent&&(o=document.createRange()).setStart(t.rangeParent,t.rangeOffset);var i=window.getSelection();i.removeAllRanges(),i.addRange(o),i.anchorNode.parentNode.focus();var a=(t.originalEvent||t).dataTransfer.getData("text/html"),s=(t.originalEvent||t).dataTransfer.getData("text/plain"),l=(t.originalEvent||t).dataTransfer.files;l.length?n.addFile(l):s&&u(a),e.classList.remove("jeditor-dragging"),t.preventDefault()}},C=function(t){n.options.onblur(e,n,t)},x=function(t){n.options.onfocus(e,n,t)};return d.addEventListener("mouseup",h),d.addEventListener("mousedown",g),d.addEventListener("mousemove",v),d.addEventListener("keyup",w),d.addEventListener("keydown",b),d.addEventListener("dragstart",j),d.addEventListener("dragenter",L),d.addEventListener("dragover",E),d.addEventListener("drop",S),d.addEventListener("paste",y),"function"==typeof n.options.onblur&&d.addEventListener("blur",C),"function"==typeof n.options.onfocus&&d.addEventListener("focus",x),"function"==typeof n.options.onload&&n.options.onload(e,n,d),d.innerHTML=c,e.appendChild(d),n.options.snippet&&f(n.options.snippet),null==n.options.toolbar&&(n.options.toolbar=jSuites.editor.getDefaultToolbar()),n.options.toolbar&&(jSuites.toolbar(l,{items:n.options.toolbar}),e.appendChild(l)),n.options.focus&&jSuites.editor.setCursor(d,"initial"==n.options.focus),e.editor=n,n},jSuites.editor.setCursor=function(e,t){e.focus(),document.execCommand("selectAll");var n=window.getSelection(),o=n.getRangeAt(0);if(1==t)var i=o.startContainer,a=0;else a=(i=o.endContainer).length;o.setStart(i,a),o.setEnd(i,a),n.removeAllRanges(),n.addRange(o)},jSuites.editor.getDomain=function(e){return e.replace("http://","").replace("https://","").replace("www.","").split(/[\/?#]/)[0].split(/:/g)[0]},jSuites.editor.detectUrl=function(e){var t=e.match(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi);return t&&"www"==t[0].substr(0,3)&&(t[0]="http://"+t[0]),t},jSuites.editor.youtubeParser=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);return!(!t||11!=t[7].length)&&t[7]},jSuites.editor.getDefaultToolbar=function(){return[{content:"undo",onclick:function(){document.execCommand("undo")}},{content:"redo",onclick:function(){document.execCommand("redo")}},{type:"divisor"},{content:"format_bold",onclick:function(e,t,n){document.execCommand("bold"),document.queryCommandState("bold")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_italic",onclick:function(e,t,n){document.execCommand("italic"),document.queryCommandState("italic")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_underline",onclick:function(e,t,n){document.execCommand("underline"),document.queryCommandState("underline")?n.classList.add("selected"):n.classList.remove("selected")}},{type:"divisor"},{content:"format_list_bulleted",onclick:function(e,t,n){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_list_numbered",onclick:function(e,t,n){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_increase",onclick:function(e,t,n){document.execCommand("indent",!0,null),document.queryCommandState("indent")?n.classList.add("selected"):n.classList.remove("selected")}},{content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}]},jSuites.files=function(e){e||console.error("No element defined in the arguments of your method");var t={files:[],get:function(){return t.files},set:function(){var n=e.querySelectorAll(".jfile");if(n.length>0){for(var o=[],i=0;i<n.length;i++){var a={},r=n[i].getAttribute("src");n[i].classList.contains("jremove")?a.remove=1:("data"==r.substr(0,4)?(a.content=r.substr(r.indexOf(",")+1),a.extension=n[i].getAttribute("data-extension")):(a.file=r,a.extension=n[i].getAttribute("data-extension"),a.extension||(a.extension=r.substr(r.lastIndexOf(".")+1)),t.files[a.file]&&(a.content=t.files[a.file])),n[i].getAttribute("data-name")&&(a.name=n[i].getAttribute("data-name")),n[i].getAttribute("data-file")&&(a.file=n[i].getAttribute("data-file")),n[i].getAttribute("data-size")&&(a.size=n[i].getAttribute("data-size")),n[i].getAttribute("data-date")&&(a.date=n[i].getAttribute("data-date")),n[i].getAttribute("data-cover")&&(a.cover=n[i].getAttribute("data-cover"))),o[i]=a}return o}}};return t.set(),t},jSuites.form=function(e,t){var n={options:{}},o={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onload:null,onbeforesave:null,onsave:null,onerror:function(e,t){jSuites.alert(t)}};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];n.options.validations||(n.options.validations={}),n.options.submitButton&&n.options.url&&(n.options.submitButton.onclick=function(){n.save()}),n.options.validations.email||(n.options.validations.email=function(e){var t=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);return!(!e||!t.test(e))}),n.options.validations.length||(n.options.validations.length=function(e,t){var n=t.getAttribute("data-length")||5;return e.length>=n}),n.options.validations.required||(n.options.validations.required=function(e){return!!e.trim()}),n.setUrl=function(e){n.options.url=e},n.load=function(){jSuites.ajax({url:n.options.url,method:"GET",dataType:"json",success:function(t){jSuites.form.setElements(e,t),"function"==typeof n.options.onload&&n.options.onload(e,t)}})},n.save=function(){var t=n.validate();if(t)n.options.onerror(e,t);else{var o=jSuites.form.getElements(e,!0);if("function"==typeof n.options.onbeforesave)if(!1===(o=n.options.onbeforesave(e,o)))return void console.log("Onbeforesave returned false");jSuites.ajax({url:n.options.url,method:"POST",dataType:"json",data:o,success:function(t){if("function"==typeof n.options.onsave)n.options.onsave(e,t);n.reset()}})}};return n.validateElement=function(t){var o=!1,i=t.getAttribute("data-validation");return"function"!=typeof n.options.validations[i]||n.options.validations[i](t.value,t)?t.classList.contains("error")&&function(t){var o=!1;t.classList.remove("error"),t.removeAttribute("title");for(var i=e.querySelectorAll("input, select, textarea"),a=0;a<i.length;a++)i[a].getAttribute("data-validation")&&i[a].classList.contains("error")&&(o=!0);n.options.submitButton&&(o?n.options.submitButton.setAttribute("disabled",!0):n.options.submitButton.removeAttribute("disabled"))}(t):o=function(e){e.classList.add("error"),n.options.submitButton&&n.options.submitButton.setAttribute("disabled",!0);var t=e.getAttribute("data-error")||"There is an error in the form";return e.setAttribute("title",t),t}(t),o},n.reset=function(){for(var t=e.querySelectorAll("input, select, textarea"),n=0;n<t.length;n++)"INPUT"==t[n].tagName&&"checkbox"==t[n].type?t[n].removeAttribute("checked"):t[n].value=""},n.validate=function(){for(var t=[],o=e.querySelectorAll("input, select, textarea"),i=0;i<o.length;i++)if(o[i].getAttribute("data-validation")){var a=n.validateElement(o[i]);a&&t.push(a)}return t.length>0&&t.join("<br>")},n.getError=function(){return!!n.validation()},n.setHash=function(){return n.getHash(jSuites.form.getElements(e))},n.getHash=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},n.isChanged=function(){var e=n.setHash();return n.options.currentHash!=e},n.resetTracker=function(){n.options.currentHash=n.setHash(),n.options.ignore=!1},n.reset=function(){n.options.currentHash=n.setHash(),n.options.ignore=!1},n.setIgnore=function(e){n.options.ignore=!!e},setTimeout(function(){n.options.currentHash=n.setHash()},1e3),e.addEventListener("keyup",function(e){e.target.getAttribute("data-validation")&&n.validateElement(e.target)}),jSuites.form.hasEvents||(window.addEventListener("beforeunload",function(e){if(n.isChanged()&&0==n.options.ignore){var t=n.options.message?n.options.message:"o/";return t?(void 0===e&&(e=window.event),e&&(e.returnValue=t),t):void 0}}),jSuites.form.hasEvents=!0),e.form=n,n},jSuites.form.getElements=function(e,t){for(var n={},o=e.querySelectorAll("input, select, textarea"),i=0;i<o.length;i++){var a=o[i],r=a.name,s=a.value;r&&("checkbox"!=o[i].type&&"radio"!=o[i].type||(s=o[i].checked),n[r]=s)}return 1==t?n:JSON.stringify(n)},jSuites.form.setElements=function(e,t){for(var n=e.querySelectorAll("input, select, textarea"),o=0;o<n.length;o++){var i=n[o].getAttribute("name");t[i]&&(n[o].value=t[i])}},jSuites.tracker=jSuites.form,jSuites.guid=function(){for(var e="",t=0;t<32;t++)e+=Math.floor(15*Math.random()).toString(15);return e},jSuites.getWindowWidth=function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerWidth||n.clientWidth||o.clientWidth},jSuites.getWindowHeight=function(){var e=window,t=document,n=t.documentElement,o=t.getElementsByTagName("body")[0];return e.innerHeight||n.clientHeight||o.clientHeight},jSuites.getPosition=function(e){if(e.changedTouches&&e.changedTouches[0])var t=e.changedTouches[0].pageX,n=e.changedTouches[0].pageY;else t=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),n=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[t,n]},jSuites.click=function(e){if(e.click)e.click();else{var t=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}},jSuites.findElement=function(e,t){var n=!1;return function e(o){o&&!n&&("function"==typeof t?n=t(o):"string"==typeof t&&o.classList&&o.classList.contains(t)&&(n=o)),o.parentNode&&!n&&e(o.parentNode)}(e),n},jSuites.image=function(e,t){var n={options:{}},o={minWidth:!1,onchange:null,singleFile:!0,remoteParser:null,text:{extensionNotAllowed:"The extension is not allowed",imageTooSmall:"The resolution is too low, try a image with a better resolution. width > 800px"}};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];e.classList.add("jupload"),n.addImage=function(e){e.date||(e.date="");var t=document.createElement("img");return t.setAttribute("data-date",e.lastmodified?e.lastmodified:e.date),t.setAttribute("data-name",e.name),t.setAttribute("data-size",e.size),t.setAttribute("data-small",e.small?e.small:""),t.setAttribute("data-cover",e.cover?1:0),t.setAttribute("data-extension",e.extension),t.setAttribute("src",e.file),t.className="jfile",t.style.width="100%",t},n.addImages=function(t){1==n.options.singleFile&&(e.innerHTML="");for(var o=0;o<t.length;o++)e.appendChild(n.addImage(t[o]))},n.addFromFile=function(t){if("image"==t.type.split("/")[0]){1==n.options.singleFile&&(e.innerHTML="");var o=new FileReader;o.addEventListener("load",function(o){var i=new Image;i.onload=function(){var o=document.createElement("canvas");o.width=i.width,o.height=i.height,o.getContext("2d").drawImage(i,0,0,o.width,o.height);var a={file:o.toDataURL(),extension:t.name.substr(t.name.lastIndexOf(".")+1),name:t.name,size:t.size,lastmodified:t.lastModified},r=n.addImage(a);e.appendChild(r),"function"==typeof n.options.onchange&&n.options.onchange(r)},i.src=o.srcElement.result}),o.readAsDataURL(t)}else alert(text.extentionNotAllowed)},n.addFromUrl=function(t){if("data"==t.substr(0,4)||n.options.remoteParser){if("data"==t.substr(0,4)){o=(o=(o=t.split(";"))[0].split("/"))[1]}else{var o=t.substr(t.lastIndexOf(".")+1);t=n.options.remoteParser+t}var i=new Image;i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0,t.width,t.height),t.toBlob(function(i){var a={file:window.URL.createObjectURL(i),extension:o},r=n.addImage(a);e.appendChild(r);var s=t.toDataURL();jSuites.files[a.file]=s.substr(s.indexOf(",")+1),"function"==typeof n.options.onchange&&n.options.onchange(r)})},i.src=t}else console.error("remoteParser not defined in your initialization")};var a=document.createElement("input");return a.type="file",a.setAttribute("accept","image/*"),a.onchange=function(){for(var e=0;e<this.files.length;e++)n.addFromFile(this.files[e])},e.addEventListener("dblclick",function(e){jSuites.click(a)}),e.addEventListener("dragenter",function(t){e.style.border="1px dashed #000"}),e.addEventListener("dragleave",function(t){e.style.border="1px solid #eee"}),e.addEventListener("dragstop",function(t){e.style.border="1px solid #eee"}),e.addEventListener("dragover",function(e){e.preventDefault()}),e.addEventListener("drop",function(t){t.preventDefault(),t.stopPropagation();var o=(t.originalEvent||t).dataTransfer.getData("text/html");if((t.originalEvent||t).dataTransfer.files.length)for(var i=0;i<t.dataTransfer.files.length;i++)n.addFromFile(t.dataTransfer.files[i]);else if(o){1==n.options.singleFile&&(e.innerHTML="");var a=document.createElement("div");a.innerHTML=o;var r=a.querySelectorAll("img");if(r.length)for(i=0;i<r.length;i++)n.addFromUrl(r[i].src)}return e.style.border="1px solid #eee",!1}),e.image=n,n},jSuites.lazyLoading=function(e,t){t.loadUp&&"function"==typeof t.loadUp||(t.loadUp=function(){return!1}),t.loadDown&&"function"==typeof t.loadDown||(t.loadDown=function(){return!1}),t.timer||(t.timer=100);var n=null,o=function(o){if(null==n){var i=e.scrollTop;e.scrollTop+2*e.clientHeight>=e.scrollHeight?t.loadDown()&&i==e.scrollTop&&(e.scrollTop=e.scrollTop-e.clientHeight):e.scrollTop<=e.clientHeight&&t.loadUp()&&i==e.scrollTop&&(e.scrollTop=e.scrollTop+e.clientHeight),n=setTimeout(function(){n=null},t.timer)}};return e.onscroll=function(e){o()},e.onwheel=function(e){o()},{}},jSuites.loading=function(){var e={},t=null;return e.show=function(){t||((t=document.createElement("div")).className="jloading"),document.body.appendChild(t)},e.hide=function(){t&&document.body.removeChild(t)},e}(),jSuites.login=function(e,t){var n={options:{}},o={url:window.location.href,prepareRequest:null,accessToken:null,deviceToken:null,facebookUrl:null,facebookAuthentication:null,maxHeight:null,onload:null,onsuccess:null,onerror:null,message:null,logo:null,newProfile:!1,newProfileUrl:!1,newProfileLogin:!1,fullscreen:!1,newPasswordValidation:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(!n.options.message){var a=document.querySelector(".message");a&&(n.options.message=a)}var r=null,s=document.createElement("form");e.appendChild(s);var l=document.createElement("div");if(l.className="jlogin-logo",s.appendChild(l),n.options.logo){var d=document.createElement("img");d.src=n.options.logo,l.appendChild(d)}var c=document.createElement("label");c.innerHTML="Please enter here the code received";var u=document.createElement("input");u.type="number",u.id="code",u.setAttribute("maxlength",6);var p=document.createElement("div");p.appendChild(c),p.appendChild(u);var f=document.createElement("input");f.type="hidden",f.name="h";var m=document.createElement("div");m.appendChild(f);var h=document.createElement("input");h.type="hidden",h.name="recovery",h.value="1";var g=document.createElement("div");g.appendChild(h);var v=document.createElement("label");v.innerHTML="Login";var w=document.createElement("input");w.type="text",w.name="login",w.setAttribute("autocomplete","off"),w.onkeyup=function(){this.value=this.value.toLowerCase().replace(/[^a-zA-Z0-9_+]+/gi,"")};var b=document.createElement("div");b.appendChild(v),b.appendChild(w);var y=document.createElement("label");y.innerHTML="Name";var j=document.createElement("input");j.type="text",j.name="name";var L=document.createElement("div");L.appendChild(y),L.appendChild(j);var E=document.createElement("label");E.innerHTML="E-mail";var S=document.createElement("input");S.type="text",S.name="username",S.setAttribute("autocomplete","new-username");var C=document.createElement("div");C.appendChild(E),C.appendChild(S);var x=document.createElement("label");x.innerHTML="New password";var T=document.createElement("input");T.type="password",T.name="password",T.setAttribute("autocomplete","new-password");var A=document.createElement("div");A.appendChild(x),A.appendChild(T),A.onkeydown=function(e){13==e.keyCode&&n.execute()};var N=document.createElement("label");N.innerHTML="Repeat the new password";var M=document.createElement("input");M.type="password",M.name="password";var O=document.createElement("div");O.appendChild(N),O.appendChild(M);var H=document.createElement("label");H.innerHTML="Remember me on this device";var k=document.createElement("input");k.type="checkbox",k.name="remember",k.value="1",H.appendChild(k);var I=document.createElement("div");I.className="rememberButton",I.appendChild(H);var D=document.createElement("input");D.type="button",D.value="Log In",D.onclick=function(){n.execute()};var P=document.createElement("div");P.appendChild(D);var R=document.createElement("div");R.innerHTML="Cancel",R.className="cancelButton",R.onclick=function(){n.requestAccess()};var q=document.createElement("div");q.appendChild(R);var V=document.createElement("label");V.innerHTML="Please type here the code below";var B=document.createElement("input");B.type="text",B.name="captcha";var U=document.createElement("img"),F=document.createElement("div");F.className="jlogin-captcha",F.appendChild(V),F.appendChild(B),F.appendChild(U);var z=document.createElement("div");z.innerHTML="Login with Facebook",z.className="facebookButton";var W=document.createElement("div");W.appendChild(z),W.onclick=function(){n.requestLoginViaFacebook()};var Y=document.createElement("span");Y.innerHTML="Request a new password";var _=document.createElement("div");_.className="requestButton",_.appendChild(Y),_.onclick=function(){n.requestNewPassword()};var X=document.createElement("span");X.innerHTML="Create a new profile";var G=document.createElement("div");G.className="newProfileButton",G.appendChild(X),G.onclick=function(){n.newProfile()},e.className="jlogin",1==n.options.fullscreen&&e.classList.add("jlogin-fullscreen"),n.showMessage=function(e){"object"==typeof e&&e.message;"function"==typeof n.options.showMessage?n.options.showMessage(e):jSuites.alert(e)},n.newProfile=function(){s.innerHTML="",s.appendChild(l),n.options.newProfileLogin&&s.appendChild(b),s.appendChild(L),s.appendChild(C),s.appendChild(P),1==n.options.facebookAuthentication&&s.appendChild(W),s.appendChild(q),w.value="",S.value="",T.value="",D.value="Create new profile",r="newProfile"},n.requestNewPassword=function(){if(Array.prototype.indexOf.call(s.children,F)>=0)var e=!0;s.innerHTML="",s.appendChild(l),s.appendChild(g),s.appendChild(C),e&&s.appendChild(F),s.appendChild(P),s.appendChild(q),D.value="Request a new password",h.value=1,r="requestNewPassword"},n.codeConfirmation=function(){s.innerHTML="",s.appendChild(l),s.appendChild(m),s.appendChild(p),s.appendChild(P),s.appendChild(q),D.value="Confirm code",h.value=2,r="codeConfirmation"},n.changeMyPassword=function(e){s.innerHTML="",s.appendChild(l),s.appendChild(m),s.appendChild(A),s.appendChild(O),s.appendChild(P),s.appendChild(q),D.value="Change my password",f.value=e,r="changeMyPassword"},n.requestAccess=function(){s.innerHTML="",s.appendChild(l),s.appendChild(C),s.appendChild(A),s.appendChild(P),1==n.options.facebookAuthentication&&s.appendChild(W),s.appendChild(_),s.appendChild(I),s.appendChild(_),1==n.options.newProfile&&s.appendChild(G),D.value="Login",T.value="",window.localStorage.getItem("username")?(S.value=window.localStorage.getItem("username"),T.focus()):S.focus(),r="requestAccess"},n.requestLoginViaFacebook=function(){"undefined"==typeof deviceNotificationToken?FB.getLoginStatus(function(e){e.status&&"connected"==e.status?n.execute({f:e.authResponse.accessToken}):FB.login(function(e){e.authResponse?n.execute({f:e.authResponse.accessToken}):n.showMessage("Not authorized by facebook")},{scope:"public_profile,email"})},!0):(jDestroy=function(){fbLogin.removeEventListener("loadstart",jStart),fbLogin.removeEventListener("loaderror",jError),fbLogin.removeEventListener("exit",jExit),fbLogin.close(),fbLogin=null},jStart=function(e){var t=e.url;t.indexOf("access_token")>=0&&setTimeout(function(){var e=t.match(/=(.*?)&/);e[1].length>32&&n.execute({f:e[1]}),jDestroy()},500),t.indexOf("error=access_denied")>=0&&(setTimeout(jDestroy,500),n.showMessage("Not authorized by facebook"))},jError=function(e){jDestroy()},jExit=function(e){jDestroy()},fbLogin=window.open(n.options.facebookUrl,"_blank","location=no,closebuttoncaption=Exit,disallowoverscroll=yes,toolbar=no"),fbLogin.addEventListener("loadstart",jStart),fbLogin.addEventListener("loaderror",jError),fbLogin.addEventListener("exit",jExit)),r="requestLoginViaFacebook"},n.execute=function(t){if("newProfile"==r){var o=new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/);if(!S.value||!o.test(S.value))var i="Invalid e-mail address";o=new RegExp(/^[a-zA-Z0-9\_\-\.\s+]+$/);if(!w.value||!o.test(w.value))i="Invalid username, please use only characters and numbers";if(i)return n.showMessage(i),!1}else if("changeMyPassword"==r){if(T.value.length<3)i="Password is too short";else if(T.value!=M.value)i="Password should match";else if("function"==typeof n.options.newPasswordValidation){var a=n.options.newPasswordValidation(n,T.value,T.value);null!=a&&(i=a)}if(i)return n.showMessage(i),!1}if(""!=S.value&&window.localStorage.setItem("username",S.value),Array.prototype.indexOf.call(s.children,F)>=0&&""==B.value)return n.showMessage("Please enter the captch code below"),!1;var l=n.options.url;n.options.deviceToken&&(l+="?token="+n.options.deviceToken);t||((t=jSuites.form.getElements(e,!0)).password&&(t.password=jSuites.login.sha512(t.password)),Array.prototype.indexOf.call(s.children,p)>=0&&u.value&&(t.h=jSuites.login.sha512(u.value)));e.classList.add("jlogin-loading");l="newProfile"==r&&n.options.newProfileUrl?n.options.newProfileUrl:n.options.url;jSuites.ajax({url:l,method:"POST",dataType:"json",data:t,success:function(t){e.classList.remove("jlogin-loading"),function(e){e&&(1==e.success&&("requestNewPassword"==r?n.codeConfirmation():"codeConfirmation"==r?n.requestAccess():"newProfile"==r&&(n.requestAccess(),e.newProfile=!0),e.token&&(n.options.accessToken=e.token,window.localStorage.setItem("Access-Token",e.token))),e.message&&n.showMessage(e.message),e.data?(s.insertBefore(F,P),U.setAttribute("src","data:image/png;base64,"+e.data)):Array.prototype.indexOf.call(s.children,F)>=0&&F.remove(),e.hash?n.changeMyPassword(e.hash):e.url&&(1==e.success?"function"==typeof n.options.onsuccess?n.options.onsuccess(e):e.message?setTimeout(function(){window.location.href=e.url},2e3):window.location.href=e.url:"function"==typeof n.options.onerror&&n.options.onerror(e)))}(t)},error:function(t){e.classList.remove("jlogin-loading"),"function"==typeof n.options.onerror&&n.options.onerror(t)}})};var J=window.location.href.split("?");return J[1]&&130==J[1].length&&"h="==J[1].substr(0,2)?n.changeMyPassword(J[1].substr(2)):n.requestAccess(),n},jSuites.login.sha512=function(e){function t(e,t){this.highOrder=e,this.lowOrder=t}var n,o,i,a,r,s,l,d,c,u,p=[new t(1779033703,4089235720),new t(3144134277,2227873595),new t(1013904242,4271175723),new t(2773480762,1595750129),new t(1359893119,2917565137),new t(2600822924,725511199),new t(528734635,4215389547),new t(1541459225,327033209)],f=[new t(1116352408,3609767458),new t(1899447441,602891725),new t(3049323471,3964484399),new t(3921009573,2173295548),new t(961987163,4081628472),new t(1508970993,3053834265),new t(2453635748,2937671579),new t(2870763221,3664609560),new t(3624381080,2734883394),new t(310598401,1164996542),new t(607225278,1323610764),new t(1426881987,3590304994),new t(1925078388,4068182383),new t(2162078206,991336113),new t(2614888103,633803317),new t(3248222580,3479774868),new t(3835390401,2666613458),new t(4022224774,944711139),new t(264347078,2341262773),new t(604807628,2007800933),new t(770255983,1495990901),new t(1249150122,1856431235),new t(1555081692,3175218132),new t(1996064986,2198950837),new t(2554220882,3999719339),new t(2821834349,766784016),new t(2952996808,2566594879),new t(3210313671,3203337956),new t(3336571891,1034457026),new t(3584528711,2466948901),new t(113926993,3758326383),new t(338241895,168717936),new t(666307205,1188179964),new t(773529912,1546045734),new t(1294757372,1522805485),new t(1396182291,2643833823),new t(1695183700,2343527390),new t(1986661051,1014477480),new t(2177026350,1206759142),new t(2456956037,344077627),new t(2730485921,1290863460),new t(2820302411,3158454273),new t(3259730800,3505952657),new t(3345764771,106217008),new t(3516065817,3606008344),new t(3600352804,1432725776),new t(4094571909,1467031594),new t(275423344,851169720),new t(430227734,3100823752),new t(506948616,1363258195),new t(659060556,3750685593),new t(883997877,3785050280),new t(958139571,3318307427),new t(1322822218,3812723403),new t(1537002063,2003034995),new t(1747873779,3602036899),new t(1955562222,1575990012),new t(2024104815,1125592928),new t(2227730452,2716904306),new t(2361852424,442776044),new t(2428436474,593698344),new t(2756734187,3733110249),new t(3204031479,2999351573),new t(3329325298,3815920427),new t(3391569614,3928383900),new t(3515267271,566280711),new t(3940187606,3454069534),new t(4118630271,4000239992),new t(116418474,1914138554),new t(174292421,2731055270),new t(289380356,3203993006),new t(460393269,320620315),new t(685471733,587496836),new t(852142971,1086792851),new t(1017036298,365543100),new t(1126000580,2618297676),new t(1288033470,3409855158),new t(1501505948,4234509866),new t(1607167915,987167468),new t(1816402316,1246189591)],m=new Array(64),h=8;function g(e,n){var o,i,a;return o=(65535&e.lowOrder)+(65535&n.lowOrder),a=(65535&(i=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o>>>16)))<<16|65535&o,o=(65535&e.highOrder)+(65535&n.highOrder)+(i>>>16),new t((65535&(i=(e.highOrder>>>16)+(n.highOrder>>>16)+(o>>>16)))<<16|65535&o,a)}function v(e,n,o,i){var a,r,s;return a=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&o.lowOrder)+(65535&i.lowOrder),s=(65535&(r=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o.lowOrder>>>16)+(i.lowOrder>>>16)+(a>>>16)))<<16|65535&a,a=(65535&e.highOrder)+(65535&n.highOrder)+(65535&o.highOrder)+(65535&i.highOrder)+(r>>>16),new t((65535&(r=(e.highOrder>>>16)+(n.highOrder>>>16)+(o.highOrder>>>16)+(i.highOrder>>>16)+(a>>>16)))<<16|65535&a,s)}function w(e,n,o,i,a){var r,s,l;return r=(65535&e.lowOrder)+(65535&n.lowOrder)+(65535&o.lowOrder)+(65535&i.lowOrder)+(65535&a.lowOrder),l=(65535&(s=(e.lowOrder>>>16)+(n.lowOrder>>>16)+(o.lowOrder>>>16)+(i.lowOrder>>>16)+(a.lowOrder>>>16)+(r>>>16)))<<16|65535&r,r=(65535&e.highOrder)+(65535&n.highOrder)+(65535&o.highOrder)+(65535&i.highOrder)+(65535&a.highOrder)+(s>>>16),new t((65535&(s=(e.highOrder>>>16)+(n.highOrder>>>16)+(o.highOrder>>>16)+(i.highOrder>>>16)+(a.highOrder>>>16)+(r>>>16)))<<16|65535&r,l)}function b(e,n,o){return new t(e.highOrder&n.highOrder^e.highOrder&o.highOrder^n.highOrder&o.highOrder,e.lowOrder&n.lowOrder^e.lowOrder&o.lowOrder^n.lowOrder&o.lowOrder)}function y(e,n,o){return new t(e.highOrder&n.highOrder^~e.highOrder&o.highOrder,e.lowOrder&n.lowOrder^~e.lowOrder&o.lowOrder)}function j(e,n){return n<=32?new t(e.highOrder>>>n|e.lowOrder<<32-n,e.lowOrder>>>n|e.highOrder<<32-n):new t(e.lowOrder>>>n|e.highOrder<<32-n,e.highOrder>>>n|e.lowOrder<<32-n)}function L(e){var n=j(e,28),o=j(e,34),i=j(e,39);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function E(e){var n=j(e,14),o=j(e,18),i=j(e,41);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function S(e){var n=j(e,1),o=j(e,8),i=C(e,7);return new t(n.highOrder^o.highOrder^i.highOrder,n.lowOrder^o.lowOrder^i.lowOrder)}function C(e,n){return n<=32?new t(e.highOrder>>>n,e.lowOrder>>>n|e.highOrder<<32-n):new t(0,e.highOrder<<32-n)}var x,T,A,N,M=(e=function(e){return unescape(encodeURIComponent(e))}(e)).length*h;(e=function(e){for(var t=[],n=(1<<h)-1,o=e.length*h,i=0;i<o;i+=h)t[i>>5]|=(e.charCodeAt(i/h)&n)<<32-h-i%32;return t}(e))[M>>5]|=128<<24-M%32,e[31+(M+128>>10<<5)]=M;for(var O=0;O<e.length;O+=32){n=p[0],o=p[1],i=p[2],a=p[3],r=p[4],s=p[5],l=p[6],d=p[7];for(var H=0;H<80;H++)m[H]=H<16?new t(e[2*H+O],e[2*H+O+1]):v((x=m[H-2],T=void 0,A=void 0,N=void 0,T=j(x,19),A=j(x,61),N=C(x,6),new t(T.highOrder^A.highOrder^N.highOrder,T.lowOrder^A.lowOrder^N.lowOrder)),m[H-7],S(m[H-15]),m[H-16]),c=w(d,E(r),y(r,s,l),f[H],m[H]),u=g(L(n),b(n,o,i)),d=l,l=s,s=r,r=g(a,c),a=i,i=o,o=n,n=g(c,u);p[0]=g(n,p[0]),p[1]=g(o,p[1]),p[2]=g(i,p[2]),p[3]=g(a,p[3]),p[4]=g(r,p[4]),p[5]=g(s,p[5]),p[6]=g(l,p[6]),p[7]=g(d,p[7])}var k=[];for(O=0;O<p.length;O++)k.push(p[O].highOrder),k.push(p[O].lowOrder);return function(e){for(var t,n="",o=4*e.length,i=0;i<o;i+=1)t=e[i>>2]>>8*(3-i%4),n+="0123456789abcdef".charAt(t>>4&15)+"0123456789abcdef".charAt(15&t);return n}(k)},jSuites.mask=function(){var e={},t=0,n=[],o=[];return e.run=function(o,i,a){if(o&&i){if(a||(a="."),o==Number(o))var r=(""+o).split("."),s=(o=r[0],r[1]);else o=""+o;var l;if(t=0,n=[],e.prepare(i),l=o)for(var d=0;d<l.length;d++)null!=l[d]&&e.process(l[d]);if(s)if(e.process(a),l=s)for(d=0;d<l.length;d++)null!=l[d]&&e.process(l[d]);return n.join("")}return""},e.apply=function(i){if(i.target&&!i.target.getAttribute("readonly")){var a=i.target.getAttribute("data-mask");if(a){if(t=0,n=[],e.prepare(a),i.target.selectionStart<i.target.selectionEnd)var r=i.target.value.substring(0,i.target.selectionStart);else r=i.target.value;if(r)for(var s=0;s<r.length;s++)null!=r[s]&&e.process(r[s]);i.keyCode>46&&(e.process(e.fromKeyCode(i)),i.preventDefault()),i.target.value=n.join(""),o.length==n.length&&o[o.length-1].length==n[n.length-1].length?i.target.setAttribute("data-completed","true"):i.target.setAttribute("data-completed","false")}}},e.process=function(e){do{if("mm"==o[t])return null==n[t]||""==n[t]?parseInt(e)>1&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):1==n[t]&&n[t]<2&&parseInt(e)<3?(n[t]+=e,t++,!0):0==n[t]&&n[t]<10&&(n[t]+=e,t++,!0);if("dd"==o[t])return null==n[t]||""==n[t]?parseInt(e)>3&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):3==n[t]&&parseInt(e)<2?(n[t]+=e,t++,!0):n[t]<3&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("hh24"==o[t])return null==n[t]||""==n[t]?parseInt(e)>2&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):2==n[t]&&parseInt(e)<4?(n[t]+=e,t++,!0):n[t]<2&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("hh"==o[t])return null==n[t]||""==n[t]?parseInt(e)>1&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):1==n[t]&&parseInt(e)<3?(n[t]+=e,t++,!0):n[t]<1&&parseInt(e)<10&&(n[t]+=e,t++,!0);if("mi"==o[t]||"ss"==o[t])return null==n[t]||""==n[t]?parseInt(e)>5&&parseInt(e)<10?(n[t]="0"+e,t++,!0):parseInt(e)<10&&(n[t]=e,!0):parseInt(e)<10&&(n[t]+=e,t++,!0);if("yy"==o[t]||"yyyy"==o[t])return parseInt(e)<10&&(null==n[t]||""==n[t]?n[t]=e:n[t]+=e,n[t].length==o[t].length&&t++,!0);if("#"==o[t]||"#.##"==o[t]||"#,##"==o[t]||"# ##"==o[t]){if(e.match(/[0-9]/g)){if("#.##"==o[t])var i=".";else if("#,##"==o[t])i=",";else if("# ##"==o[t])i=" ";else i="";if(null==n[t]||""==n[t])n[t]=e;else if(n[t]+=e,i){n[t]=n[t].match(/[0-9]/g).join("");for(var a=[],r=0,s=n[t].length-1;s>=0;s--)a.push(n[t][s]),++r%3||a.push(i);a=a.reverse(),n[t]=a.join(""),n[t].substr(0,1)==i&&(n[t]=n[t].substr(1))}return!0}if("#.##"==o[t]&&"."==e);else if("#,##"==o[t]&&","==e);else if("# ##"==o[t]&&" "==e);else if(n[t]&&o[++t]){if(o[t]==e)return n[t]=e,!0;if("0"==o[t]&&o[t+1]==e)return n[++t]=e,!0}return!1}if("0"==o[t])return!!e.match(/[0-9]/g)&&(n[t]=e,t++,!0);if("a"==o[t])return!!e.match(/[a-zA-Z]/g)&&(n[t]=e,t++,!0);if(null!=o[t]){if("\\a"==o[t])var l="a";else if("\\0"==o[t])l="0";else if("[-]"==o[t])if("-"==e||"+"==e)l=e;else l=" ";else l=o[t];if(n[t]=l,e==l)return t++,!0}t++}while(o[t])},e.prepare=function(e){o=[];for(var t=0;t<e.length;t++)e[t].match(/[0-9]|[a-z]|\\/g)?"y"==e[t]&&"y"==e[t+1]&&"y"==e[t+2]&&"y"==e[t+3]?(o.push("yyyy"),t+=3):"y"==e[t]&&"y"==e[t+1]?(o.push("yy"),t++):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]&&"m"==e[t+3]?(o.push("mmmm"),t+=3):"m"==e[t]&&"m"==e[t+1]&&"m"==e[t+2]?(o.push("mmm"),t+=2):"m"==e[t]&&"m"==e[t+1]?(o.push("mm"),t++):"d"==e[t]&&"d"==e[t+1]?(o.push("dd"),t++):"h"==e[t]&&"h"==e[t+1]&&"2"==e[t+2]&&"4"==e[t+3]?(o.push("hh24"),t+=3):"h"==e[t]&&"h"==e[t+1]?(o.push("hh"),t++):"m"==e[t]&&"i"==e[t+1]?(o.push("mi"),t++):"s"==e[t]&&"s"==e[t+1]?(o.push("ss"),t++):"a"==e[t]&&"m"==e[t+1]?(o.push("am"),t++):"p"==e[t]&&"m"==e[t+1]?(o.push("pm"),t++):"\\"==e[t]&&"0"==e[t+1]?(o.push("\\0"),t++):"\\"==e[t]&&"a"==e[t+1]?(o.push("\\a"),t++):o.push(e[t]):"#"==e[t]&&"."==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("#.##"),t+=3):"#"==e[t]&&","==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("#,##"),t+=3):"#"==e[t]&&" "==e[t+1]&&"#"==e[t+2]&&"#"==e[t+3]?(o.push("# ##"),t+=3):"["==e[t]&&"-"==e[t+1]&&"]"==e[t+2]?(o.push("[-]"),t+=2):o.push(e[t])},e.fromKeyCode=function(e){var t={188:"44",109:"45",190:"46",191:"47",192:"96",220:"92",222:"39",221:"93",219:"91",173:"45",187:"61",186:"59",189:"45"},n={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"},o=e.which;return t.hasOwnProperty(o)&&(o=t[o]),o=!e.shiftKey&&o>=65&&o<=90?String.fromCharCode(o+32):e.shiftKey&&n.hasOwnProperty(o)?n[o]:96<=o&&o<=105?String.fromCharCode(o-48):String.fromCharCode(o)},"undefined"!=typeof document&&document.addEventListener("keydown",function(e){jSuites.mask&&jSuites.mask.apply(e)}),e}(),jSuites.modal=function(e,t){var n={options:{}},o={url:null,onopen:null,onclose:null,closed:!1,width:null,height:null,title:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];!n.options.title&&e.getAttribute("title")&&(n.options.title=e.getAttribute("title"));for(var a=document.createElement("div"),r=0;r<e.children.length;r++)a.appendChild(e.children[r]);n.content=document.createElement("div"),n.content.className="jmodal_content",n.content.innerHTML=e.innerHTML;for(r=0;r<a.children.length;r++)n.content.appendChild(a.children[r]);n.container=document.createElement("div"),n.container.className="jmodal",n.container.appendChild(n.content),n.options.width&&(n.container.style.width=n.options.width),n.options.height&&(n.container.style.height=n.options.height),n.options.title?n.container.setAttribute("title",n.options.title):n.container.classList.add("no-title"),e.innerHTML="",e.style.display="none",e.appendChild(n.container);var s=document.createElement("div");return s.className="jmodal_backdrop",e.appendChild(s),n.open=function(){e.style.display="block";const t=n.container.getBoundingClientRect();jSuites.getWindowWidth()<t.width?(n.container.style.top="",n.container.style.left="",n.container.classList.add("jmodal_fullscreen"),jSuites.animation.slideBottom(n.container,1)):s.style.display="block",jSuites.modal.current=n,"function"==typeof n.options.onopen&&n.options.onopen(e,n)},n.resetPosition=function(){n.container.style.top="",n.container.style.left=""},n.isOpen=function(){return"none"!=e.style.display},n.close=function(){e.style.display="none",s.style.display="",jSuites.modal.current=null,n.container.classList.remove("jmodal_fullscreen"),"function"==typeof n.options.onclose&&n.options.onclose(e,n)},jSuites.modal.hasEvents||(jSuites.modal.current=n,"ontouchstart"in document.documentElement==!0?document.addEventListener("touchstart",jSuites.modal.mouseDownControls):(document.addEventListener("mousedown",jSuites.modal.mouseDownControls),document.addEventListener("mousemove",jSuites.modal.mouseMoveControls),document.addEventListener("mouseup",jSuites.modal.mouseUpControls)),document.addEventListener("keydown",jSuites.modal.keyDownControls),jSuites.modal.hasEvents=!0),n.options.url?jSuites.ajax({url:n.options.url,method:"GET",success:function(e){n.content.innerHTML=e,n.options.closed||n.open()}}):n.options.closed||n.open(),e.modal=n,n},jSuites.modal.current=null,jSuites.modal.position=null,jSuites.modal.keyDownControls=function(e){27==e.which&&jSuites.modal.current&&jSuites.modal.current.close()},jSuites.modal.mouseUpControls=function(e){jSuites.modal.current&&(jSuites.modal.current.container.style.cursor="auto"),jSuites.modal.position=null},jSuites.modal.mouseMoveControls=function(e){if(jSuites.modal.current&&jSuites.modal.position)if(1==e.which||3==e.which){var t=jSuites.modal.position;jSuites.modal.current.container.style.top=t[1]+(e.clientY-t[3])+t[5]/2+"px",jSuites.modal.current.container.style.left=t[0]+(e.clientX-t[2])+t[4]/2+"px",jSuites.modal.current.container.style.cursor="move"}else jSuites.modal.current.container.style.cursor="auto"},jSuites.modal.mouseDownControls=function(e){jSuites.modal.position=[],e.target.classList.contains("jmodal")&&setTimeout(function(){var t=e.target.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var n=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY;else n=e.clientX,o=e.clientY;t.width-(n-t.left)<50&&o-t.top<50?setTimeout(function(){jSuites.modal.current.close()},100):e.target.getAttribute("title")&&o-t.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),jSuites.modal.position=[t.left,t.top,e.clientX,e.clientY,t.width,t.height])},100)},jSuites.notification=function(e){var t={options:{}},n={icon:null,name:"Notification",date:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var o in n)e&&e.hasOwnProperty(o)?t.options[o]=e[o]:t.options[o]=n[o];var i=document.createElement("div");i.className="jnotification";var a=document.createElement("div");a.className="jnotification-container",i.appendChild(a);var r=document.createElement("div");r.className="jnotification-header",a.appendChild(r);var s=document.createElement("div");if(s.className="jnotification-image",r.appendChild(s),t.options.icon){var l=document.createElement("img");l.src=t.options.icon,s.appendChild(l)}var d=document.createElement("div");if(d.className="jnotification-name",d.innerHTML=t.options.name,r.appendChild(d),1==t.options.closeable){var c=document.createElement("div");c.className="jnotification-close",c.onclick=function(){t.hide()},r.appendChild(c)}var u=document.createElement("div");u.className="jnotification-date",r.appendChild(u);var p=document.createElement("div");if(p.className="jnotification-content",a.appendChild(p),t.options.title){var f=document.createElement("div");f.className="jnotification-title",f.innerHTML=t.options.title,p.appendChild(f)}var m=document.createElement("div");if(m.className="jnotification-message",m.innerHTML=t.options.message,p.appendChild(m),t.show=function(){document.body.appendChild(i),jSuites.getWindowWidth()>800?jSuites.animation.fadeIn(i):jSuites.animation.slideTop(i,1)},t.hide=function(){jSuites.getWindowWidth()>800?jSuites.animation.fadeOut(i,function(){i.parentNode&&(i.parentNode.removeChild(i),h&&clearTimeout(h))}):jSuites.animation.slideTop(i,0,function(){i.parentNode&&(i.parentNode.removeChild(i),h&&clearTimeout(h))})},t.show(),1==t.options.autoHide)var h=setTimeout(function(){t.hide()},t.options.timeout);return jSuites.getWindowWidth()<800&&i.addEventListener("swipeup",function(e){t.hide(),e.preventDefault(),e.stopPropagation()}),t},jSuites.rating=function(e,t){var n={options:{}},o={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];e.classList.add("jrating");for(var a=0;a<n.options.number;a++){var r=document.createElement("div");r.setAttribute("data-index",a+1),r.setAttribute("title",n.options.tooltip[a]),e.appendChild(r)}if(n.setValue=function(t){for(var o=0;o<n.options.number;o++)o<t?e.children[o].classList.add("jrating-selected"):(e.children[o].classList.remove("jrating-over"),e.children[o].classList.remove("jrating-selected"));n.options.value=t,"function"==typeof n.options.onchange&&n.options.onchange(e,t)},n.getValue=function(){return n.options.value},n.options.value)for(a=0;a<n.options.number;a++)a<n.options.value&&e.children[a].classList.add("jrating-selected");return e.addEventListener("click",function(e){var t=e.target.getAttribute("data-index");null!=t&&(t==n.options.value?n.setValue(0):n.setValue(t))}),e.addEventListener("mouseover",function(t){for(var o=t.target.getAttribute("data-index"),i=0;i<n.options.number;i++)i<o?e.children[i].classList.add("jrating-over"):e.children[i].classList.remove("jrating-over")}),e.addEventListener("mouseout",function(t){for(var o=0;o<n.options.number;o++)e.children[o].classList.remove("jrating-over")}),e.rating=n,n},jSuites.refresh=function(e,t){var n=null,o=null,i=function(e,t){o||((o=document.createElement("div")).className="jrefresh"),e.addEventListener("touchmove",function(t){!function(e,t){if("function"==typeof t.options.onpush&&t.scrollTop<5){n||((n={}).x=e.touches[0].clientX,n.y=e.touches[0].clientY);var i=e.touches[0].clientY-n.y;i>70?o.classList.contains("ready")||o.classList.add("ready"):(o.classList.contains("ready")&&o.classList.remove("ready"),o.style.height=i+"px",i>20&&(o.classList.contains("holding")||(o.classList.add("holding"),t.insertBefore(o,t.firstChild))))}}(t,e)}),e.addEventListener("touchend",function(t){var n;"function"==typeof(n=e).options.onpush&&(o.classList.remove("holding"),o.classList.contains("ready")?(o.classList.remove("ready"),setTimeout(function(){i.hide()},1e3),"function"==typeof n.options.onpush&&n.options.onpush(n)):(o.style.height="",i.hide()))}),e.options||(e.options={}),"function"==typeof t&&(e.options.onpush=t)};return i.hide=function(){o.parentNode&&o.parentNode.removeChild(o),n=null},i}(),jSuites.slider=function(e,t){var n={options:{},currentImage:null};if(t&&(n.options=t),n.options.items=[],e.classList.contains("jslider"))o=e.querySelector("slider-container");else{var o;if(e.classList.add("jslider"),(o=document.createElement("div")).className="jslider-container",e.children.length>0)for(var i=0;i<e.children.length;i++)n.options.items.push(e.children[i]);if(n.options.items.length>0)for(i=0;i<n.options.items.length;i++){n.options.items[i].classList.add("jfile"),(a=n.options.items[i].src.lastIndexOf("/"))<0?n.options.items[i].setAttribute("data-name",n.options.items[i].src):n.options.items[i].setAttribute("data-name",n.options.items[i].src.substr(a+1));var a=n.options.items[i].src.lastIndexOf("/");o.appendChild(n.options.items[i])}e.appendChild(o);var r=document.createElement("div");r.className="jslider-close",r.innerHTML="",r.onclick=function(){n.close()},e.appendChild(r)}if(n.show=function(e){if(!e)e=o.children[0];o.classList.contains("jslider-preview")||(o.classList.add("jslider-preview"),r.style.display="block");for(var t=0;t<o.children.length;t++)o.children[t].style.display="none";e.style.display="block",e.previousSibling?o.classList.add("jslider-left"):o.classList.remove("jslider-left"),e.nextSibling?o.classList.add("jslider-right"):o.classList.remove("jslider-right"),n.currentImage=e},n.open=function(){n.show(),"function"==typeof n.options.onopen&&n.options.onopen(e)},n.close=function(){o.classList.remove("jslider-preview"),o.classList.remove("jslider-left"),o.classList.remove("jslider-right");for(var t=0;t<o.children.length;t++)o.children[t].style.display="";r.style.display="",n.currentImage=null,"function"==typeof n.options.onclose&&n.options.onclose(e)},n.reset=function(){o.innerHTML=""},n.addFile=function(t,i){var a=document.createElement("img");a.setAttribute("data-lastmodified",t.lastmodified),a.setAttribute("data-name",t.name),a.setAttribute("data-size",t.size),a.setAttribute("data-extension",t.extension),a.setAttribute("data-cover",t.cover),a.setAttribute("src",t.file),a.className="jfile",o.appendChild(a),n.options.items.push(a),i||"function"==typeof n.options.onchange&&n.options.onchange(e,t)},n.addFiles=function(e){for(var t=0;t<e.length;t++)n.addFile(e[t])},n.next=function(){n.currentImage.nextSibling&&n.show(n.currentImage.nextSibling)},n.prev=function(){n.currentImage.previousSibling&&n.show(n.currentImage.previousSibling)},n.getData=function(){return jSuites.files(o).get()},n.options.data&&n.options.data.length)for(i=0;i<n.options.data.length;i++)n.options.data[i]&&n.addFile(n.options.data[i]);if(n.options.allowAttachment){var s=document.createElement("input");s.type="file",s.className="slider-attachment",s.setAttribute("accept","image/*"),s.style.display="none",s.onchange=function(){for(var e=[],t=0;t<this.files.length;t++){if("image"==this.files[t].type.split("/")[0]){var o=this.files[t].name;o=(o=o.split("."))[o.length-1];var i={size:this.files[t].size,name:this.files[t].name,extension:o,cover:0,lastmodified:this.files[t].lastModified};e[t]=new FileReader,e[t].addEventListener("load",function(e){i.file=e.target.result,n.addFile(i)},!1),e[t].readAsDataURL(this.files[t])}else alert("The extension is not allowed")}};var l=document.createElement("i");l.innerHTML="attachment",l.className="jslider-attach material-icons",l.onclick=function(){jSuites.click(s)},e.appendChild(s),e.appendChild(l)}var d=null,c=function(t){if("IMG"==t.target.tagName){t.target;d=setTimeout(function(){"data"==t.target.src.substr(0,4)?t.target.remove():t.target.classList.contains("jremove")?t.target.classList.remove("jremove"):t.target.classList.add("jremove"),"function"==typeof n.options.onchange&&n.options.onchange(e,t.target)},1e3)}},u=function(e){d&&clearTimeout(d),"IMG"==e.target.tagName?e.target.classList.contains("jremove")||n.show(e.target):e.target.clientWidth-e.offsetX<40?n.next():e.offsetX<40&&n.prev()};return o.addEventListener("mousedown",c),o.addEventListener("touchstart",c),o.addEventListener("mouseup",u),o.addEventListener("touchend",u),e.addEventListener("swipeleft",function(e){n.next(),e.preventDefault(),e.stopPropagation()}),e.addEventListener("swiperight",function(e){n.prev(),e.preventDefault(),e.stopPropagation()}),jSuites.slider.hasEvents||(document.addEventListener("keydown",function(e){27==e.which&&n.close()}),jSuites.slider.hasEvents=!0),e.slider=n,n},jSuites.sorting=function(e,t){var n={options:{}},o={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},i=null;for(var a in o)t&&t.hasOwnProperty(a)?n.options[a]=t[a]:n.options[a]=o[a];e.classList.add("jsorting"),e.addEventListener("dragstart",function(t){var o=Array.prototype.indexOf.call(t.target.parentNode.children,t.target);i={element:t.target,o:o,d:o},t.target.style.opacity="0.25","function"==typeof n.options.ondragstart&&n.options.ondragstart(e,t.target,t)}),e.addEventListener("dragover",function(e){if(e.preventDefault(),r(e.target)&&i&&"true"==e.target.getAttribute("draggable")){if(n.options.direction)t=e.target.clientWidth/2>e.offsetX;else var t=e.target.clientHeight/2>e.offsetY;t?e.target.parentNode.insertBefore(i.element,e.target):e.target.parentNode.insertBefore(i.element,e.target.nextSibling),i.d=Array.prototype.indexOf.call(e.target.parentNode.children,i.element)}}),e.addEventListener("dragleave",function(e){e.preventDefault()}),e.addEventListener("dragend",function(t){t.preventDefault(),i&&("function"==typeof n.options.ondragend&&n.options.ondragend(e,i.element,t),i.element.style.opacity="",i=null)}),e.addEventListener("drop",function(t){t.preventDefault(),i&&i.o!=i.d&&"function"==typeof n.options.ondrop&&n.options.ondrop(e,i.o,i.d,i.element,t.target,t),i.element.style.opacity="",i=null});for(var r=function(e){var t=!1;return function e(n){n.className&&n.classList.contains("jsorting")&&(t=!0),t||e(n.parentNode)}(e),t},s=0;s<e.children.length;s++)e.children[s].hasAttribute("draggable")||e.children[s].setAttribute("draggable","true");return e},jSuites.tabs=function(e,t){var n={options:{}},o={data:null,position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(e.classList.add("jtabs"),1==n.options.animation){var a=document.createElement("div");a.className="jtabs-border",e.appendChild(a);var r=function(e){var t=n.headers.children[e].getBoundingClientRect(),o=n.content.children[e].getBoundingClientRect();a.style.width=t.width+"px",a.style.left=t.left-o.left+"px",a.style.top=t.height+"px"}}if(n.open=function(t){for(var o=null,i=0;i<n.headers.children.length;i++)n.headers.children[i].classList.contains("jtabs-selected")&&(o=i,n.headers.children[i].classList.remove("jtabs-selected"),n.content.children[i]&&n.content.children[i].classList.remove("jtabs-selected"));n.headers.children[t].classList.add("jtabs-selected"),n.content.children[t]&&n.content.children[t].classList.add("jtabs-selected"),o!=t&&"function"==typeof n.options.onchange&&n.content.children[t]&&n.options.onchange(e,n,t,n.headers.children[t],n.content.children[t]),n.content.children[t]&&"function"==typeof n.options.onclick&&n.options.onclick(e,n,t,n.headers.children[t],n.content.children[t]),1==n.options.hideHeaders&&n.headers.children.length<2&&0==n.options.allowCreate?n.headers.style.display="none":(n.headers.style.display="",1==n.options.animation&&setTimeout(function(){r(t)},100))},n.selectIndex=function(e){var t=Array.prototype.indexOf.call(n.headers.children,e);t>=0&&n.open(t)},n.create=function(t){if("function"==typeof n.options.onbeforecreate){var o=n.options.onbeforecreate();if(!1===o)return!1;t=o}var i=n.appendElement(t);return"function"==typeof n.options.oncreate&&n.options.oncreate(e,i),i},n.nextNumber=function(){for(var e=0,t=0;t<n.headers.children.length;t++){var o=n.headers.children[t].innerText.match(/[0-9]/);o>e&&(e=o)}return e?e++:e=1,e},n.deleteElement=function(t){if(!n.headers.children[t])return!1;n.headers.removeChild(n.headers.children[t]),n.content.removeChild(n.content.children[t]),n.open(0),"function"==typeof n.options.ondelete&&n.options.ondelete(e,t)},n.appendElement=function(e){if(!e)e=prompt("Title?","");if(e){var t=document.createElement("div");n.content.appendChild(t);var o=document.createElement("div");return o.innerHTML=e,o.content=t,n.options.allowCreate?n.headers.insertBefore(o,n.headers.lastChild):n.headers.appendChild(o),n.options.allowChangePosition&&o.setAttribute("draggable","true"),n.selectIndex(o),t}},n.init=function(){if(1==n.options.allowCreate){var e=document.createElement("i");e.className="jtabs-add",e.setAttribute("draggable","false"),n.headers.appendChild(e)}n.headers.addEventListener("click",function(e){"DIV"==e.target.tagName?n.selectIndex(e.target):n.create()}),n.headers.addEventListener("contextmenu",function(e){"DIV"==e.target.tagName&&n.selectIndex(e.target)}),n.headers.children.length&&n.open(0),1==n.options.allowChangePosition&&jSuites.sorting(n.headers,{direction:1,ondrop:function(e,t,o,i,a,r){t>o?n.content.insertBefore(n.content.children[t],n.content.children[o]):n.content.insertBefore(n.content.children[t],n.content.children[o].nextSibling),n.open(o),"function"==typeof n.options.onchangeposition&&n.options.onchangeposition(e,t,o,i,a,r)}})},n.options.data){e.innerHTML="",n.headers=document.createElement("div"),n.content=document.createElement("div"),n.headers.classList.add("jtabs-headers"),n.content.classList.add("jtabs-content"),e.appendChild(n.headers),e.appendChild(n.content);for(var s=0;s<n.options.data.length;s++){var l=document.createElement("div");n.headers.appendChild(l);var d=document.createElement("div");n.content.appendChild(d),l.innerHTML=n.options.data[s].title,n.options.data[s].content?d.innerHTML=n.options.data[s].content:n.options.data[s].url&&jSuites.ajax({url:n.options.data[s].url,type:"GET",success:function(e){d.innerHTML=e},complete:function(){"function"==typeof n.options.onload&&(n.options.onload(e),n.init(),n.open(0))}})}}else e.children[0]&&e.children[1]?(n.headers=e.children[0],n.content=e.children[1],n.headers.classList.add("jtabs-headers"),n.content.classList.add("jtabs-content"),n.init()):(e.innerHTML="",n.headers=document.createElement("div"),n.content=document.createElement("div"),n.headers.classList.add("jtabs-headers"),n.content.classList.add("jtabs-content"),e.appendChild(n.headers),e.appendChild(n.content),n.init());return e.tabs=n,n},jSuites.tags=function(e,t){var n={options:{}},o={value:null,limit:null,limitMessage:"The limit of entries is: ",search:null,placeholder:null,validation:null,onbeforechange:null,onchange:null,onfocus:null,onblur:null,onload:null,colors:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];var a=null,r=null,s=0,l=0;n.add=function(t,o){if("function"==typeof n.options.onbeforechange){var i=n.options.onbeforechange(e,n,t);null!=i&&(t=i)}if(a&&(a.style.display=""),n.options.limit>0&&e.children.length>=n.options.limit)alert(n.options.limitMessage+" "+n.options.limit);else{var r=u();if(t&&"string"!=typeof t){r&&r.parentNode.classList.contains("jtags")&&(r.innerText.replace("\n","")||e.removeChild(r));for(var s=0;s<=t.length;s++){if(!n.options.limit||e.children.length<n.options.limit)(l=document.createElement("div")).innerHTML=t[s]?t[s]:"<br>",e.appendChild(l)}}else{var l;(l=document.createElement("div")).innerHTML=t||"<br>",r&&r.parentNode.classList.contains("jtags")?e.insertBefore(l,r.nextSibling):e.appendChild(l)}o&&setTimeout(function(){c(l)},0),d(),"function"==typeof n.options.onchange&&n.options.onchange(e,n,t||"")}},n.remove=function(t){t.parentNode.removeChild(t),e.children.length||n.add("")},n.getData=function(){for(var t=[],n=0;n<e.children.length;n++){var o=e.children[n].innerText.replace("\n",""),i=e.children[n].getAttribute("data-value");i||(i=o),(o||i)&&t.push({text:o,value:i})}return t},n.getValue=function(t){var o=null;if(null!=t)(o=e.children[t].getAttribute("data-value"))||(o=e.children[t].innerText.replace("\n",""));else{for(var i=[],a=0;a<e.children.length;a++)(o=e.children[a].innerText.replace("\n",""))&&i.push(n.getValue(a));o=i.join(",")}return o},n.setValue=function(e){if(e=e.trim()){var t=p(e);n.add(t)}},n.reset=function(){e.innerHTML="<div><br></div>"},n.isValid=function(){for(var t=0,n=0;n<e.children.length;n++)e.children[n].classList.contains("jtags_error")&&t++;return 0==t},n.selectIndex=function(e){r="";var t=u();t.innerText=e.children[1].innerText,e.children[1].getAttribute("data-value")&&t.setAttribute("data-value",e.children[1].getAttribute("data-value")),a&&(a.style.display="",a.innerHTML=""),t.classList.remove("jtags_error"),n.add()},n.search=function(t){if(!a){var o=document.createElement("div");o.style.position="relative",e.parentNode.insertBefore(o,e.nextSibling),(a=document.createElement("div")).classList.add("jtags_search"),o.appendChild(a)}var i=t.anchorNode.nodeValue;t.anchorNode.nodeValue&&i!=r&&(r=t.anchorNode.nodeValue,s=0,jSuites.ajax({url:n.options.search+r,method:"GET",dataType:"json",success:function(e){if(a.innerHTML="",e.length){a.style.display="block";for(var t=e.length<11?e.length:10,o=0;o<t;o++){var i=e[o].text;!i&&e[o].name&&(i=e[o].name);var r=e[o].value;!r&&e[o].id&&(r=e[o].id);var s=document.createElement("div");0==o&&s.classList.add("selected");var l=document.createElement("img");e[o].image?l.src=e[o].image:l.style.display="none",s.appendChild(l);var d=document.createElement("div");d.setAttribute("data-value",r),d.innerHTML=i,s.onclick=function(){n.selectIndex(this)},s.appendChild(d),a.appendChild(s)}}else a.style.display=""}}))},n.destroy=function(){e.removeEventListener("mouseup",v),e.removeEventListener("keydown",m),e.removeEventListener("keyup",h),e.removeEventListener("paste",g),e.removeEventListener("focus",w),e.removeEventListener("blur",b),e.parentNode.removeChild(e)};var d=function(){for(var t=0;t<e.children.length;t++)n.getValue(t)?(e.children[t].classList.add("jtags_label"),"function"==typeof n.options.validation&&(n.getValue(t)?n.options.validation(e.children[t],e.children[t].innerText,e.children[t].getAttribute("data-value"))?e.children[t].classList.remove("jtags_error"):e.children[t].classList.add("jtags_error"):e.children[t].classList.remove("jtags_error"))):e.children[t].classList.remove("jtags_label")},c=function(e){var t=document.createRange(),n=window.getSelection();t.setStart(e,e.innerText.length),t.collapse(!0),n.removeAllRanges(),n.addRange(t)},u=function(){var e=document.getSelection().anchorNode;return e?3==e.nodeType?e.parentNode:e:null},p=function(e){var t=[],n="";if(e=e.trim()){for(var o=0;o<e.length;o++)","==e[o]||";"==e[o]||"\r\n"==e[o]?n&&(t.push(n),n=""):n+=e[o];n&&t.push(n)}return t},f=0,m=function(t){if(f=window.getSelection().anchorOffset,!e.children.length){var o=document.createElement("div");o.innerHTML="<br>",e.appendChild(o)}if(9==t.which||186==t.which||188==t.which)window.getSelection().anchorOffset>1&&(!n.options.limit||e.children.length<n.options.limit)&&n.add("",!0),t.preventDefault();else if(13==t.which){if(a&&""!=a.style.display)n.selectIndex(a.children[s]);else window.getSelection().anchorOffset>1&&(!n.options.limit||e.children.length<n.options.limit)&&n.add("",!0);t.preventDefault()}else 38==t.which?a&&""!=a.style.display&&(a.children[s].classList.remove("selected"),s>0&&s--,a.children[s].classList.add("selected"),t.preventDefault()):40==t.which&&a&&""!=a.style.display&&(a.children[s].classList.remove("selected"),s<9&&s++,a.children[s].classList.add("selected"),t.preventDefault())},h=function(e){if(39==e.which){var t=window.getSelection().anchorOffset;t>1&&t==f&&n.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():(l&&clearTimeout(l),l=setTimeout(function(){var e=window.getSelection();n.options.search&&n.search(e),l=null},300));d()},g=function(e){if(e.clipboardData||e.originalEvent.clipboardData){(e.originalEvent||e).clipboardData.getData("text/html");var t=(e.originalEvent||e).clipboardData.getData("text/plain")}else if(window.clipboardData)window.clipboardData.getData("Html"),t=window.clipboardData.getData("Text");n.setValue(t),e.preventDefault()},v=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){const t=e.target.getBoundingClientRect();t.width-(e.clientX-t.left)<16&&n.remove(e.target)}a&&(a.style.display="")},w=function(t){if((!e.children.length||n.getValue(e.children.length-1))&&(!n.options.limit||e.children.length<n.options.limit)){var o=document.createElement("div");o.innerHTML="<br>",e.appendChild(o)}"function"==typeof n.options.onfocus&&n.options.onfocus(e,n,n.getValue())},b=function(t){a&&setTimeout(function(){a.style.display=""},200);for(var o=0;o<e.children.length-1;o++)n.getValue(o)||e.removeChild(e.children[o]);"function"==typeof n.options.onblur&&n.options.onblur(e,n,n.getValue())};return e.addEventListener("mouseup",v),e.addEventListener("keydown",m),e.addEventListener("keyup",h),e.addEventListener("paste",g),e.addEventListener("focus",w),e.addEventListener("blur",b),e.classList.add("jtags"),e.setAttribute("contenteditable",!0),e.setAttribute("spellcheck",!1),n.options.placeholder&&(e.placeholder=n.options.placeholder),n.options.value?n.setValue(n.options.value):e.innerHTML="<div><br></div>","function"==typeof n.options.onload&&n.options.onload(e,n),e.tags=n,n},jSuites.template=function(e,t){var n={options:{}},o={url:null,data:null,filter:null,pageNumber:0,numberOfPages:0,template:null,render:null,noRecordsFound:"No records found",search:null,searchInput:!0,searchPlaceHolder:"",searchValue:"",remoteData:null,pagination:null,onload:null,onchange:null,onsearch:null};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];if(e.innerHTML="",n.options.search&&1==n.options.searchInput){var a=null,r=document.createElement("div");r.className="jtemplate-results",n.searchInput=document.createElement("input"),n.searchInput.value=n.options.searchValue,n.searchInput.onkeyup=function(e){a&&clearTimeout(a),a=setTimeout(function(){n.search(n.searchInput.value.toLowerCase()),a=null},300)},r.appendChild(n.searchInput),e.appendChild(r),n.options.searchPlaceHolder&&n.searchInput.setAttribute("placeholder",n.options.searchPlaceHolder)}if(n.options.pagination){var s=document.createElement("div");s.className="jtemplate-pagination",e.appendChild(s)}var l=document.createElement("div");l.className="jtemplate-content",e.appendChild(l);var d=null;return n.updatePagination=function(){if(s&&(s.innerHTML=""),n.options.pagination>0&&n.options.numberOfPages>1){var e=n.options.numberOfPages;if(n.options.pageNumber<6)var t=1,o=e<10?e:10;else if(e-n.options.pageNumber<5){o=e;(t=e-9)<1&&(t=1)}else t=n.options.pageNumber-4,o=n.options.pageNumber+5;if(t>1)(a=document.createElement("div")).innerHTML="<",a.title=1,s.appendChild(a);for(var i=t;i<=o;i++){var a;(a=document.createElement("div")).innerHTML=i,s.appendChild(a),n.options.pageNumber==i-1&&(a.style.fontWeight="bold")}if(o<e)(a=document.createElement("div")).innerHTML=">",a.title=e-1,s.appendChild(a)}},n.addItem=function(o,i){var a=document.createElement("div");i?n.options.data.unshift(o):n.options.data.push(o),a.innerHTML=n.options.template[Object.keys(t.template)[0]](o),a.children[0].classList.add("fade-in"),i?l.prepend(a.children[0]):l.append(a.children[0]),"function"==typeof n.options.onchange&&n.options.onchange(e,n.options.data)},n.removeItem=function(e){if(Array.prototype.indexOf.call(l.children,e)>-1){var t=n.options.data.indexOf(e.dataReference);t>-1&&n.options.data.splice(t,1),jSuites.animation.fadeOut(e,function(){e.parentNode.removeChild(e)})}else console.error("Element not found")},n.setData=function(t){t&&(n.options.pageNumber=1,n.options.searchValue="",n.options.data=t,d=null,n.render(),"function"==typeof n.options.onchange&&n.options.onchange(e,n.options.data))},n.appendData=function(e,t){t&&(n.options.pageNumber=t);var o=function(e){n.options.data.concat(e),n.options.pagination>0&&(n.options.numberOfPages=Math.ceil(n.options.data.length/n.options.pagination));for(var t=e.length,o=document.createElement("div"),i=0;i<t;i++)o.innerHTML=n.options.template[Object.keys(n.options.template)[0]](e[i]),o.children[0].dataReference=e[i],l.appendChild(o.children[0])};if(n.options.url&&1==n.options.remoteData){var i=n.options.url,a={};n.options.remoteData&&(n.options.searchValue&&(a.q=n.options.searchValue),n.options.pageNumber&&(a.p=n.options.pageNumber),n.options.pagination&&(a.t=n.options.pagination)),jSuites.ajax({url:i,method:"GET",data:a,dataType:"json",success:function(e){o(e)}})}else n.options.data?o(e):console.log("TEMPLATE: no data or external url defined")},n.renderTemplate=function(){var e=d||n.options.data;if(n.updatePagination(),e.length){if(l.classList.remove("jtemplate-empty"),n.options.pagination&&e.length>n.options.pagination){var t=n.options.pagination*n.options.pageNumber,o=n.options.pagination*n.options.pageNumber+n.options.pagination;if(e.length<o)o=e.length}else t=0,o=e.length;for(var i=document.createElement("div"),a=t;a<o;a++)i.innerHTML=n.options.template[Object.keys(n.options.template)[0]](e[a]),i.children[0].dataReference=e[a],l.appendChild(i.children[0])}else l.innerHTML=n.options.noRecordsFound,l.classList.add("jtemplate-empty")},n.render=function(t,o){null!=t?n.options.pageNumber=t:!n.options.pageNumber&&n.options.pagination>0&&(n.options.pageNumber=0);var i=function(){"function"==typeof n.options.render?l.innerHTML=n.options.render(n):l.innerHTML="",n.renderTemplate(),o&&"function"==typeof n.options.onload&&n.options.onload(e,n)};if(n.options.url&&(1==n.options.remoteData||o)){var a=n.options.url,r={};n.options.remoteData&&(n.options.searchValue&&(r.q=n.options.searchValue),n.options.pageNumber&&(r.p=n.options.pageNumber),n.options.pagination&&(r.t=n.options.pagination)),jSuites.ajax({url:a,method:"GET",dataType:"json",data:r,success:function(e){e.hasOwnProperty("total")?(n.options.numberOfPages=Math.ceil(e.total/n.options.pagination),n.options.data=e.data):(n.options.pagination>0&&(n.options.numberOfPages=Math.ceil(e.length/n.options.pagination)),n.options.data=e),i()}})}else n.options.data?(n.options.pagination>0&&(n.options.numberOfPages=d?Math.ceil(d.length/n.options.pagination):Math.ceil(n.options.data.length/n.options.pagination)),i()):console.log("TEMPLATE: no data or external url defined")},n.search=function(t){if(n.options.pageNumber=0,n.options.searchValue=t||"",1!=n.options.remoteData&&t){d="function"==typeof n.options.filter?n.options.filter(n.options.data,t):n.options.data.filter(function(e){return function(e,t){for(var n in e)if((""+e[n]).toLowerCase().search(t)>=0)return!0;return!1}(e,t)})}else d=null;n.render(),"function"==typeof n.options.onsearch&&n.options.onsearch(e,n,t)},n.refresh=function(){n.render()},n.reload=function(){n.render(0,!0)},e.addEventListener("mousedown",function(e){if(e.target.parentNode.classList.contains("jtemplate-pagination")){var t=e.target.innerText;"<"==t?n.render(0):">"==t?n.render(e.target.getAttribute("title")):n.render(parseInt(t)-1),e.preventDefault()}}),e.template=n,n.render(0,!0),n},jSuites.toolbar=function(e,t){var n={options:{}},o={app:null,badge:!1,title:!1,items:[]};for(var i in o)t&&t.hasOwnProperty(i)?n.options[i]=t[i]:n.options[i]=o[i];!e&&t.app&&t.app.el&&(e=document.createElement("div"),t.app.el.appendChild(e)),n.selectItem=function(e){for(var t=a.children,n=0;n<t.length;n++)e!=t[n]&&t[n].classList.remove("jtoolbar-selected");e.classList.add("jtoolbar-selected")},n.hide=function(){jSuites.animation.slideBottom(e,0,function(){e.style.display="none"})},n.show=function(){e.style.display="",jSuites.animation.slideBottom(e,1)},n.get=function(){return e},n.setBadge=function(e,t){a.children[e].children[1].firstChild.innerHTML=t},n.destroy=function(){toolbar.remove(),e.innerHTML=""},n.create=function(o){a.innerHTML="";for(var i=0;i<o.length;i++){var r=document.createElement("div");if(r.classList.add("jtoolbar-item"),o[i].width&&(r.style.width=parseInt(o[i].width)+"px"),o[i].k&&(r.k=o[i].k),o[i].tooltip&&r.setAttribute("title",o[i].tooltip),o[i].id&&r.setAttribute("id",o[i].id),o[i].type&&"i"!=o[i].type)if("select"==o[i].type||"dropdown"==o[i].type){if(o[i].options){var s;if(r.classList.add("jtoolbar-dropdown"),r.setAttribute("tabindex","0"),r.onblur=function(){this.classList.remove("jtoolbar-focus")},o[i].content)(s=document.createElement("div")).innerHTML='<i class="material-icons">'+o[i].content+"</i>";else(s=document.createElement("div")).innerHTML="";s.classList.add("jtoolbar-dropdown-header"),s.onclick=function(e){if(this.parentNode.classList.contains("jtoolbar-focus"))this.parentNode.classList.remove("jtoolbar-focus");else{e=this.parentNode.parentNode.querySelectorAll(".jtoolbar-item");for(var t=0;t<e.length;t++)e[t].classList.remove("jtoolbar-focus");this.parentNode.classList.add("jtoolbar-focus");const n=this.getBoundingClientRect(),o=this.nextSibling.getBoundingClientRect();window.innerHeight<n.bottom+o.height?(this.nextSibling.style.top="",this.nextSibling.style.bottom=n.height+1+"px"):(this.nextSibling.style.top="",this.nextSibling.style.bottom="")}};var l=document.createElement("div");l.classList.add("jtoolbar-dropdown-content"),r.appendChild(s),r.appendChild(l);for(var d=0;d<o[i].options.length;d++){var c=document.createElement("div");if("function"==typeof o[i].render)var u=o[i].render(o[i].options[d]);else u=o[i].options[d];c.p=r,c.k=d,c.v=o[i].options[d],c.innerHTML=u,c.onchange=o[i].onchange,o[i].content?c.onclick=function(){this.onchange(e,n,this.p,this.v,this.k),this.p.classList.remove("jtoolbar-focus")}:c.onclick=function(){this.parentNode.parentNode.firstChild.innerHTML=this.innerHTML,this.onchange(e,n,this.p,this.v,this.k),this.p.classList.remove("jtoolbar-focus")},l.appendChild(c),o[i].content||0!=d||(s.innerHTML=u)}}o[i].onclick&&(r.onclick=function(t){var a=i;return function(){o[a].onclick(e,n,this)}}())}else"color"==o[i].type||"divisor"==o[i].type&&r.classList.add("jtoolbar-divisor");else{var p=document.createElement("i");if(p.classList.add("material-icons"),p.innerHTML=o[i].content?o[i].content:"",r.appendChild(p),1==n.options.badge){var f=document.createElement("div");f.classList.add("jbadge");var m=document.createElement("div");m.innerHTML=o[i].badge?o[i].badge:"",f.appendChild(m),r.appendChild(f)}if(o[i].title)if(1==n.options.title){var h=document.createElement("span");h.innerHTML=o[i].title,r.appendChild(h)}else r.setAttribute("title",o[i].title);n.options.app&&o[i].route?(r.route=o[i].route,r.onclick=function(){t.app.pages(this.route)},n.options.app.pages(o[i].route,{toolbarItem:r,closed:!0,onenter:function(){n.selectItem(this.toolbarItem)}})):o[i].onclick&&(r.onclick=function(t){var a=i;return function(){o[a].onclick(e,n,this)}}())}a.appendChild(r)}},e.classList.add("jtoolbar"),e.innerHTML="",e.onclick=function(e){var t=jSuites.findElement(e.target,"jtoolbar-item");t&&n.selectItem(t)};var a=document.createElement("div");return e.appendChild(a),n.options.app&&e.classList.add("jtoolbar-mobile"),n.create(n.options.items),e.toolbar=n,n},jSuites});